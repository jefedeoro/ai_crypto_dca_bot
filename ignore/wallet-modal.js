import{translate as e,EventEmitter as n,allowOnlyLanguage as t}from"@near-wallet-selector/core";import r from"copy-to-clipboard";import*as a from"qrcode";var o=typeof globalThis!=="undefined"?globalThis:typeof window!=="undefined"?window:typeof global!=="undefined"?global:typeof self!=="undefined"?self:{};var check=function(e){return e&&e.Math==Math&&e};var i=check(typeof globalThis=="object"&&globalThis)||check(typeof window=="object"&&window)||check(typeof self=="object"&&self)||check(typeof o=="object"&&o)||function(){return this}()||Function("return this")();var l={};var fails$f=function(e){try{return!!e()}catch(e){return true}};var v=fails$f;var d=!v((function(){return Object.defineProperty({},1,{get:function(){return 7}})[1]!=7}));var c=fails$f;var s=!c((function(){var e=function(){}.bind();return typeof e!="function"||e.hasOwnProperty("prototype")}));var u=s;var f=Function.prototype.call;var p=u?f.bind(f):function(){return f.apply(f,arguments)};var h={};var m={}.propertyIsEnumerable;var g=Object.getOwnPropertyDescriptor;var w=g&&!m.call({1:2},1);h.f=w?function propertyIsEnumerable(e){var n=g(this,e);return!!n&&n.enumerable}:m;var createPropertyDescriptor$3=function(e,n){return{enumerable:!(e&1),configurable:!(e&2),writable:!(e&4),value:n}};var y=s;var b=Function.prototype;var C=b.bind;var L=b.call;var k=y&&C.bind(L,L);var E=y?function(e){return e&&k(e)}:function(e){return e&&function(){return L.apply(e,arguments)}};var A=E;var S=A({}.toString);var M=A("".slice);var classofRaw$1=function(e){return M(S(e),8,-1)};var T=E;var j=fails$f;var x=classofRaw$1;var O=Object;var I=T("".split);var $=j((function(){return!O("z").propertyIsEnumerable(0)}))?function(e){return x(e)=="String"?I(e,""):O(e)}:O;var P=TypeError;var requireObjectCoercible$4=function(e){if(e==void 0)throw P("Can't call method on "+e);return e};var B=$;var W=requireObjectCoercible$4;var toIndexedObject$4=function(e){return B(W(e))};var isCallable$i=function(e){return typeof e=="function"};var R=isCallable$i;var isObject$8=function(e){return typeof e=="object"?e!==null:R(e)};var Z=i;var H=isCallable$i;var aFunction=function(e){return H(e)?e:void 0};var getBuiltIn$8=function(e,n){return arguments.length<2?aFunction(Z[e]):Z[e]&&Z[e][n]};var N=E;var D=N({}.isPrototypeOf);var F=getBuiltIn$8;var _=F("navigator","userAgent")||"";var U=i;var q=_;var V=U.process;var G=U.Deno;var Y=V&&V.versions||G&&G.version;var z=Y&&Y.v8;var K,Q;if(z){K=z.split(".");Q=K[0]>0&&K[0]<4?1:+(K[0]+K[1])}if(!Q&&q){K=q.match(/Edge\/(\d+)/);if(!K||K[1]>=74){K=q.match(/Chrome\/(\d+)/);K&&(Q=+K[1])}}var J=Q;var X=J;var ee=fails$f;var ne=!!Object.getOwnPropertySymbols&&!ee((function(){var e=Symbol();return!String(e)||!(Object(e)instanceof Symbol)||!Symbol.sham&&X&&X<41}));var te=ne;var re=te&&!Symbol.sham&&typeof Symbol.iterator=="symbol";var ae=getBuiltIn$8;var oe=isCallable$i;var ie=D;var le=re;var ve=Object;var de=le?function(e){return typeof e=="symbol"}:function(e){var n=ae("Symbol");return oe(n)&&ie(n.prototype,ve(e))};var ce=String;var tryToString$5=function(e){try{return ce(e)}catch(e){return"Object"}};var se=isCallable$i;var ue=tryToString$5;var fe=TypeError;var aCallable$8=function(e){if(se(e))return e;throw fe(ue(e)+" is not a function")};var pe=aCallable$8;var getMethod$3=function(e,n){var t=e[n];return t==null?void 0:pe(t)};var he=p;var me=isCallable$i;var ge=isObject$8;var we=TypeError;var ordinaryToPrimitive$1=function(e,n){var t,r;if(n==="string"&&me(t=e.toString)&&!ge(r=he(t,e)))return r;if(me(t=e.valueOf)&&!ge(r=he(t,e)))return r;if(n!=="string"&&me(t=e.toString)&&!ge(r=he(t,e)))return r;throw we("Can't convert object to primitive value")};var ye={exports:{}};var be=i;var Ce=Object.defineProperty;var defineGlobalProperty$3=function(e,n){try{Ce(be,e,{value:n,configurable:true,writable:true})}catch(t){be[e]=n}return n};var Le=i;var ke=defineGlobalProperty$3;var Ee="__core-js_shared__";var Ae=Le[Ee]||ke(Ee,{});var Se=Ae;var Me=Se;(ye.exports=function(e,n){return Me[e]||(Me[e]=n!==void 0?n:{})})("versions",[]).push({version:"3.23.3",mode:"global",copyright:"© 2014-2022 Denis Pushkarev (zloirock.ru)",license:"https://github.com/zloirock/core-js/blob/v3.23.3/LICENSE",source:"https://github.com/zloirock/core-js"});var Te=requireObjectCoercible$4;var je=Object;var toObject$2=function(e){return je(Te(e))};var xe=E;var Oe=toObject$2;var Ie=xe({}.hasOwnProperty);var $e=Object.hasOwn||function hasOwn(e,n){return Ie(Oe(e),n)};var Pe=E;var Be=0;var We=Math.random();var Re=Pe(1..toString);var uid$2=function(e){return"Symbol("+(e===void 0?"":e)+")_"+Re(++Be+We,36)};var Ze=i;var He=ye.exports;var Ne=$e;var De=uid$2;var Fe=ne;var _e=re;var Ue=He("wks");var qe=Ze.Symbol;var Ve=qe&&qe.for;var Ge=_e?qe:qe&&qe.withoutSetter||De;var wellKnownSymbol$d=function(e){if(!Ne(Ue,e)||!(Fe||typeof Ue[e]=="string")){var n="Symbol."+e;Fe&&Ne(qe,e)?Ue[e]=qe[e]:Ue[e]=_e&&Ve?Ve(n):Ge(n)}return Ue[e]};var Ye=p;var ze=isObject$8;var Ke=de;var Qe=getMethod$3;var Je=ordinaryToPrimitive$1;var Xe=wellKnownSymbol$d;var en=TypeError;var nn=Xe("toPrimitive");var toPrimitive$1=function(e,n){if(!ze(e)||Ke(e))return e;var t=Qe(e,nn);var r;if(t){n===void 0&&(n="default");r=Ye(t,e,n);if(!ze(r)||Ke(r))return r;throw en("Can't convert object to primitive value")}n===void 0&&(n="number");return Je(e,n)};var tn=toPrimitive$1;var rn=de;var toPropertyKey$3=function(e){var n=tn(e,"string");return rn(n)?n:n+""};var an=i;var on=isObject$8;var ln=an.document;var vn=on(ln)&&on(ln.createElement);var documentCreateElement$1=function(e){return vn?ln.createElement(e):{}};var dn=d;var cn=fails$f;var sn=documentCreateElement$1;var un=!dn&&!cn((function(){return Object.defineProperty(sn("div"),"a",{get:function(){return 7}}).a!=7}));var fn=d;var pn=p;var hn=h;var mn=createPropertyDescriptor$3;var gn=toIndexedObject$4;var wn=toPropertyKey$3;var yn=$e;var bn=un;var Cn=Object.getOwnPropertyDescriptor;l.f=fn?Cn:function getOwnPropertyDescriptor(e,n){e=gn(e);n=wn(n);if(bn)try{return Cn(e,n)}catch(e){}if(yn(e,n))return mn(!pn(hn.f,e,n),e[n])};var Ln={};var kn=d;var En=fails$f;var An=kn&&En((function(){return Object.defineProperty((function(){}),"prototype",{value:42,writable:false}).prototype!=42}));var Sn=isObject$8;var Mn=String;var Tn=TypeError;var anObject$c=function(e){if(Sn(e))return e;throw Tn(Mn(e)+" is not an object")};var jn=d;var xn=un;var On=An;var In=anObject$c;var $n=toPropertyKey$3;var Pn=TypeError;var Bn=Object.defineProperty;var Wn=Object.getOwnPropertyDescriptor;var Rn="enumerable";var Zn="configurable";var Hn="writable";Ln.f=jn?On?function defineProperty(e,n,t){In(e);n=$n(n);In(t);if(typeof e==="function"&&n==="prototype"&&"value"in t&&Hn in t&&!t[Hn]){var r=Wn(e,n);if(r&&r[Hn]){e[n]=t.value;t={configurable:Zn in t?t[Zn]:r[Zn],enumerable:Rn in t?t[Rn]:r[Rn],writable:false}}}return Bn(e,n,t)}:Bn:function defineProperty(e,n,t){In(e);n=$n(n);In(t);if(xn)try{return Bn(e,n,t)}catch(e){}if("get"in t||"set"in t)throw Pn("Accessors not supported");"value"in t&&(e[n]=t.value);return e};var Nn=d;var Dn=Ln;var Fn=createPropertyDescriptor$3;var _n=Nn?function(e,n,t){return Dn.f(e,n,Fn(1,t))}:function(e,n,t){e[n]=t;return e};var Un={exports:{}};var qn=d;var Vn=$e;var Gn=Function.prototype;var Yn=qn&&Object.getOwnPropertyDescriptor;var zn=Vn(Gn,"name");var Kn=zn&&function something(){}.name==="something";var Qn=zn&&(!qn||qn&&Yn(Gn,"name").configurable);var Jn={EXISTS:zn,PROPER:Kn,CONFIGURABLE:Qn};var Xn=E;var et=isCallable$i;var nt=Se;var tt=Xn(Function.toString);et(nt.inspectSource)||(nt.inspectSource=function(e){return tt(e)});var rt=nt.inspectSource;var at=i;var ot=isCallable$i;var it=rt;var lt=at.WeakMap;var vt=ot(lt)&&/native code/.test(it(lt));var dt=ye.exports;var ct=uid$2;var st=dt("keys");var sharedKey$2=function(e){return st[e]||(st[e]=ct(e))};var ut={};var ft=vt;var pt=i;var ht=E;var mt=isObject$8;var gt=_n;var wt=$e;var yt=Se;var bt=sharedKey$2;var Ct=ut;var Lt="Object already initialized";var kt=pt.TypeError;var Et=pt.WeakMap;var At,St,Mt;var enforce=function(e){return Mt(e)?St(e):At(e,{})};var getterFor=function(e){return function(n){var t;if(!mt(n)||(t=St(n)).type!==e)throw kt("Incompatible receiver, "+e+" required");return t}};if(ft||yt.state){var Tt=yt.state||(yt.state=new Et);var jt=ht(Tt.get);var xt=ht(Tt.has);var Ot=ht(Tt.set);At=function(e,n){if(xt(Tt,e))throw new kt(Lt);n.facade=e;Ot(Tt,e,n);return n};St=function(e){return jt(Tt,e)||{}};Mt=function(e){return xt(Tt,e)}}else{var It=bt("state");Ct[It]=true;At=function(e,n){if(wt(e,It))throw new kt(Lt);n.facade=e;gt(e,It,n);return n};St=function(e){return wt(e,It)?e[It]:{}};Mt=function(e){return wt(e,It)}}var $t={set:At,get:St,has:Mt,enforce:enforce,getterFor:getterFor};var Pt=fails$f;var Bt=isCallable$i;var Wt=$e;var Rt=d;var Zt=Jn.CONFIGURABLE;var Ht=rt;var Nt=$t;var Dt=Nt.enforce;var Ft=Nt.get;var _t=Object.defineProperty;var Ut=Rt&&!Pt((function(){return _t((function(){}),"length",{value:8}).length!==8}));var qt=String(String).split("String");var Vt=Un.exports=function(e,n,t){String(n).slice(0,7)==="Symbol("&&(n="["+String(n).replace(/^Symbol\(([^)]*)\)/,"$1")+"]");t&&t.getter&&(n="get "+n);t&&t.setter&&(n="set "+n);(!Wt(e,"name")||Zt&&e.name!==n)&&(Rt?_t(e,"name",{value:n,configurable:true}):e.name=n);Ut&&t&&Wt(t,"arity")&&e.length!==t.arity&&_t(e,"length",{value:t.arity});try{t&&Wt(t,"constructor")&&t.constructor?Rt&&_t(e,"prototype",{writable:false}):e.prototype&&(e.prototype=void 0)}catch(e){}var r=Dt(e);Wt(r,"source")||(r.source=qt.join(typeof n=="string"?n:""));return e};Function.prototype.toString=Vt((function toString(){return Bt(this)&&Ft(this).source||Ht(this)}),"toString");var Gt=isCallable$i;var Yt=Ln;var zt=Un.exports;var Kt=defineGlobalProperty$3;var defineBuiltIn$4=function(e,n,t,r){r||(r={});var a=r.enumerable;var o=r.name!==void 0?r.name:n;Gt(t)&&zt(t,o,r);if(r.global)a?e[n]=t:Kt(n,t);else{try{r.unsafe?e[n]&&(a=true):delete e[n]}catch(e){}a?e[n]=t:Yt.f(e,n,{value:t,enumerable:false,configurable:!r.nonConfigurable,writable:!r.nonWritable})}return e};var Qt={};var Jt=Math.ceil;var Xt=Math.floor;var er=Math.trunc||function trunc(e){var n=+e;return(n>0?Xt:Jt)(n)};var nr=er;var toIntegerOrInfinity$2=function(e){var n=+e;return n!==n||n===0?0:nr(n)};var tr=toIntegerOrInfinity$2;var rr=Math.max;var ar=Math.min;var toAbsoluteIndex$2=function(e,n){var t=tr(e);return t<0?rr(t+n,0):ar(t,n)};var or=toIntegerOrInfinity$2;var ir=Math.min;var toLength$1=function(e){return e>0?ir(or(e),9007199254740991):0};var lr=toLength$1;var lengthOfArrayLike$4=function(e){return lr(e.length)};var vr=toIndexedObject$4;var dr=toAbsoluteIndex$2;var cr=lengthOfArrayLike$4;var createMethod$1=function(e){return function(n,t,r){var a=vr(n);var o=cr(a);var i=dr(r,o);var l;if(e&&t!=t)while(o>i){l=a[i++];if(l!=l)return true}else for(;o>i;i++)if((e||i in a)&&a[i]===t)return e||i||0;return!e&&-1}};var sr={includes:createMethod$1(true),indexOf:createMethod$1(false)};var ur=E;var fr=$e;var pr=toIndexedObject$4;var hr=sr.indexOf;var mr=ut;var gr=ur([].push);var objectKeysInternal=function(e,n){var t=pr(e);var r=0;var a=[];var o;for(o in t)!fr(mr,o)&&fr(t,o)&&gr(a,o);while(n.length>r)fr(t,o=n[r++])&&(~hr(a,o)||gr(a,o));return a};var wr=["constructor","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","toLocaleString","toString","valueOf"];var yr=objectKeysInternal;var br=wr;var Cr=br.concat("length","prototype");Qt.f=Object.getOwnPropertyNames||function getOwnPropertyNames(e){return yr(e,Cr)};var Lr={};Lr.f=Object.getOwnPropertySymbols;var kr=getBuiltIn$8;var Er=E;var Ar=Qt;var Sr=Lr;var Mr=anObject$c;var Tr=Er([].concat);var jr=kr("Reflect","ownKeys")||function ownKeys(e){var n=Ar.f(Mr(e));var t=Sr.f;return t?Tr(n,t(e)):n};var xr=$e;var Or=jr;var Ir=l;var $r=Ln;var copyConstructorProperties$2=function(e,n,t){var r=Or(n);var a=$r.f;var o=Ir.f;for(var i=0;i<r.length;i++){var l=r[i];xr(e,l)||t&&xr(t,l)||a(e,l,o(n,l))}};var Pr=fails$f;var Br=isCallable$i;var Wr=/#|\.prototype\./;var isForced$2=function(e,n){var t=Zr[Rr(e)];return t==Nr||t!=Hr&&(Br(n)?Pr(n):!!n)};var Rr=isForced$2.normalize=function(e){return String(e).replace(Wr,".").toLowerCase()};var Zr=isForced$2.data={};var Hr=isForced$2.NATIVE="N";var Nr=isForced$2.POLYFILL="P";var Dr=isForced$2;var Fr=i;var _r=l.f;var Ur=_n;var qr=defineBuiltIn$4;var Vr=defineGlobalProperty$3;var Gr=copyConstructorProperties$2;var Yr=Dr;var _export=function(e,n){var t=e.target;var r=e.global;var a=e.stat;var o,i,l,v,d,c;i=r?Fr:a?Fr[t]||Vr(t,{}):(Fr[t]||{}).prototype;if(i)for(l in n){d=n[l];if(e.dontCallGetSet){c=_r(i,l);v=c&&c.value}else v=i[l];o=Yr(r?l:t+(a?".":"#")+l,e.forced);if(!o&&v!==void 0){if(typeof d==typeof v)continue;Gr(d,v)}(e.sham||v&&v.sham)&&Ur(d,"sham",true);qr(i,l,d,e)}};var zr=tryToString$5;var Kr=TypeError;var deletePropertyOrThrow$1=function(e,n){if(!delete e[n])throw Kr("Cannot delete property "+zr(n)+" of "+zr(e))};var Qr=wellKnownSymbol$d;var Jr=Qr("toStringTag");var Xr={};Xr[Jr]="z";var ea=String(Xr)==="[object z]";var na=ea;var ta=isCallable$i;var ra=classofRaw$1;var aa=wellKnownSymbol$d;var oa=aa("toStringTag");var ia=Object;var la=ra(function(){return arguments}())=="Arguments";var tryGet=function(e,n){try{return e[n]}catch(e){}};var va=na?ra:function(e){var n,t,r;return e===void 0?"Undefined":e===null?"Null":typeof(t=tryGet(n=ia(e),oa))=="string"?t:la?ra(n):(r=ra(n))=="Object"&&ta(n.callee)?"Arguments":r};var da=va;var ca=String;var toString$5=function(e){if(da(e)==="Symbol")throw TypeError("Cannot convert a Symbol value to a string");return ca(e)};var sa=toPropertyKey$3;var ua=Ln;var fa=createPropertyDescriptor$3;var createProperty$1=function(e,n,t){var r=sa(n);r in e?ua.f(e,r,fa(0,t)):e[r]=t};var pa=toAbsoluteIndex$2;var ha=lengthOfArrayLike$4;var ma=createProperty$1;var ga=Array;var wa=Math.max;var arraySliceSimple=function(e,n,t){var r=ha(e);var a=pa(n,r);var o=pa(t===void 0?r:t,r);var i=ga(wa(o-a,0));for(var l=0;a<o;a++,l++)ma(i,l,e[a]);i.length=l;return i};var ya=arraySliceSimple;var ba=Math.floor;var mergeSort=function(e,n){var t=e.length;var r=ba(t/2);return t<8?insertionSort(e,n):merge(e,mergeSort(ya(e,0,r),n),mergeSort(ya(e,r),n),n)};var insertionSort=function(e,n){var t=e.length;var r=1;var a,o;while(r<t){o=r;a=e[r];while(o&&n(e[o-1],a)>0)e[o]=e[--o];o!==r++&&(e[o]=a)}return e};var merge=function(e,n,t,r){var a=n.length;var o=t.length;var i=0;var l=0;while(i<a||l<o)e[i+l]=i<a&&l<o?r(n[i],t[l])<=0?n[i++]:t[l++]:i<a?n[i++]:t[l++];return e};var Ca=mergeSort;var La=fails$f;var arrayMethodIsStrict$1=function(e,n){var t=[][e];return!!t&&La((function(){t.call(null,n||function(){return 1},1)}))};var ka=_;var Ea=ka.match(/firefox\/(\d+)/i);var Aa=!!Ea&&+Ea[1];var Sa=_;var Ma=/MSIE|Trident/.test(Sa);var Ta=_;var ja=Ta.match(/AppleWebKit\/(\d+)\./);var xa=!!ja&&+ja[1];var Oa=_export;var Ia=E;var $a=aCallable$8;var Pa=toObject$2;var Ba=lengthOfArrayLike$4;var Wa=deletePropertyOrThrow$1;var Ra=toString$5;var Za=fails$f;var Ha=Ca;var Na=arrayMethodIsStrict$1;var Da=Aa;var Fa=Ma;var _a=J;var Ua=xa;var qa=[];var Va=Ia(qa.sort);var Ga=Ia(qa.push);var Ya=Za((function(){qa.sort(void 0)}));var za=Za((function(){qa.sort(null)}));var Ka=Na("sort");var Qa=!Za((function(){if(_a)return _a<70;if(!(Da&&Da>3)){if(Fa)return true;if(Ua)return Ua<603;var e="";var n,t,r,a;for(n=65;n<76;n++){t=String.fromCharCode(n);switch(n){case 66:case 69:case 70:case 72:r=3;break;case 68:case 71:r=4;break;default:r=2}for(a=0;a<47;a++)qa.push({k:t+a,v:r})}qa.sort((function(e,n){return n.v-e.v}));for(a=0;a<qa.length;a++){t=qa[a].k.charAt(0);e.charAt(e.length-1)!==t&&(e+=t)}return e!=="DGBEFHACIJK"}}));var Ja=Ya||!za||!Ka||!Qa;var getSortCompare=function(e){return function(n,t){return t===void 0?-1:n===void 0?1:e!==void 0?+e(n,t)||0:Ra(n)>Ra(t)?1:-1}};Oa({target:"Array",proto:true,forced:Ja},{sort:function sort(e){e!==void 0&&$a(e);var n=Pa(this);if(Qa)return e===void 0?Va(n):Va(n,e);var t=[];var r=Ba(n);var a,o;for(o=0;o<r;o++)o in n&&Ga(t,n[o]);Ha(t,getSortCompare(e));a=t.length;o=0;while(o<a)n[o]=t[o++];while(o<r)Wa(n,o++);return n}});function __awaiter(e,n,t,r){function adopt(e){return e instanceof t?e:new t((function(n){n(e)}))}return new(t||(t=Promise))((function(t,a){function fulfilled(e){try{step(r.next(e))}catch(e){a(e)}}function rejected(e){try{step(r.throw(e))}catch(e){a(e)}}function step(e){e.done?t(e.value):adopt(e.value).then(fulfilled,rejected)}step((r=r.apply(e,n||[])).next())}))}typeof SuppressedError==="function"?SuppressedError:function(e,n,t){var r=new Error(t);return r.name="SuppressedError",r.error=e,r.suppressed=n,r};var Xa=classofRaw$1;var eo=i;var no=Xa(eo.process)=="process";var to=isCallable$i;var ro=String;var ao=TypeError;var aPossiblePrototype$1=function(e){if(typeof e=="object"||to(e))return e;throw ao("Can't set "+ro(e)+" as a prototype")};var oo=E;var io=anObject$c;var lo=aPossiblePrototype$1;var vo=Object.setPrototypeOf||("__proto__"in{}?function(){var e=false;var n={};var t;try{t=oo(Object.getOwnPropertyDescriptor(Object.prototype,"__proto__").set);t(n,[]);e=n instanceof Array}catch(e){}return function setPrototypeOf(n,r){io(n);lo(r);e?t(n,r):n.__proto__=r;return n}}():void 0);var co=Ln.f;var so=$e;var uo=wellKnownSymbol$d;var fo=uo("toStringTag");var setToStringTag$1=function(e,n,t){e&&!t&&(e=e.prototype);e&&!so(e,fo)&&co(e,fo,{configurable:true,value:n})};var po=getBuiltIn$8;var ho=Ln;var mo=wellKnownSymbol$d;var go=d;var wo=mo("species");var setSpecies$1=function(e){var n=po(e);var t=ho.f;go&&n&&!n[wo]&&t(n,wo,{configurable:true,get:function(){return this}})};var yo=D;var bo=TypeError;var anInstance$1=function(e,n){if(yo(n,e))return e;throw bo("Incorrect invocation")};var Co=E;var Lo=fails$f;var ko=isCallable$i;var Eo=va;var Ao=getBuiltIn$8;var So=rt;var noop=function(){};var Mo=[];var To=Ao("Reflect","construct");var jo=/^\s*(?:class|function)\b/;var xo=Co(jo.exec);var Oo=!jo.exec(noop);var Io=function isConstructor(e){if(!ko(e))return false;try{To(noop,Mo,e);return true}catch(e){return false}};var $o=function isConstructor(e){if(!ko(e))return false;switch(Eo(e)){case"AsyncFunction":case"GeneratorFunction":case"AsyncGeneratorFunction":return false}try{return Oo||!!xo(jo,So(e))}catch(e){return true}};$o.sham=true;var Po=!To||Lo((function(){var e;return Io(Io.call)||!Io(Object)||!Io((function(){e=true}))||e}))?$o:Io;var Bo=Po;var Wo=tryToString$5;var Ro=TypeError;var aConstructor$1=function(e){if(Bo(e))return e;throw Ro(Wo(e)+" is not a constructor")};var Zo=anObject$c;var Ho=aConstructor$1;var No=wellKnownSymbol$d;var Do=No("species");var speciesConstructor$1=function(e,n){var t=Zo(e).constructor;var r;return t===void 0||(r=Zo(t)[Do])==void 0?n:Ho(r)};var Fo=s;var _o=Function.prototype;var Uo=_o.apply;var qo=_o.call;var Vo=typeof Reflect=="object"&&Reflect.apply||(Fo?qo.bind(Uo):function(){return qo.apply(Uo,arguments)});var Go=E;var Yo=aCallable$8;var zo=s;var Ko=Go(Go.bind);var functionBindContext=function(e,n){Yo(e);return n===void 0?e:zo?Ko(e,n):function(){return e.apply(n,arguments)}};var Qo=getBuiltIn$8;var Jo=Qo("document","documentElement");var Xo=E;var ei=Xo([].slice);var ni=TypeError;var validateArgumentsLength$1=function(e,n){if(e<n)throw ni("Not enough arguments");return e};var ti=_;var ri=/(?:ipad|iphone|ipod).*applewebkit/i.test(ti);var ai=i;var oi=Vo;var ii=functionBindContext;var li=isCallable$i;var vi=$e;var di=fails$f;var ci=Jo;var si=ei;var ui=documentCreateElement$1;var fi=validateArgumentsLength$1;var pi=ri;var hi=no;var mi=ai.setImmediate;var gi=ai.clearImmediate;var wi=ai.process;var yi=ai.Dispatch;var bi=ai.Function;var Ci=ai.MessageChannel;var Li=ai.String;var ki=0;var Ei={};var Ai="onreadystatechange";var Si,Mi,Ti,ji;try{Si=ai.location}catch(e){}var run=function(e){if(vi(Ei,e)){var n=Ei[e];delete Ei[e];n()}};var runner=function(e){return function(){run(e)}};var listener=function(e){run(e.data)};var post=function(e){ai.postMessage(Li(e),Si.protocol+"//"+Si.host)};if(!mi||!gi){mi=function setImmediate(e){fi(arguments.length,1);var n=li(e)?e:bi(e);var t=si(arguments,1);Ei[++ki]=function(){oi(n,void 0,t)};Mi(ki);return ki};gi=function clearImmediate(e){delete Ei[e]};if(hi)Mi=function(e){wi.nextTick(runner(e))};else if(yi&&yi.now)Mi=function(e){yi.now(runner(e))};else if(Ci&&!pi){Ti=new Ci;ji=Ti.port2;Ti.port1.onmessage=listener;Mi=ii(ji.postMessage,ji)}else if(ai.addEventListener&&li(ai.postMessage)&&!ai.importScripts&&Si&&Si.protocol!=="file:"&&!di(post)){Mi=post;ai.addEventListener("message",listener,false)}else Mi=Ai in ui("script")?function(e){ci.appendChild(ui("script"))[Ai]=function(){ci.removeChild(this);run(e)}}:function(e){setTimeout(runner(e),0)}}var xi={set:mi,clear:gi};var Oi=_;var Ii=i;var $i=/ipad|iphone|ipod/i.test(Oi)&&Ii.Pebble!==void 0;var Pi=_;var Bi=/web0s(?!.*chrome)/i.test(Pi);var Wi=i;var Ri=functionBindContext;var Zi=l.f;var Hi=xi.set;var Ni=ri;var Di=$i;var Fi=Bi;var _i=no;var Ui=Wi.MutationObserver||Wi.WebKitMutationObserver;var qi=Wi.document;var Vi=Wi.process;var Gi=Wi.Promise;var Yi=Zi(Wi,"queueMicrotask");var zi=Yi&&Yi.value;var Ki,Qi,Ji,Xi,el,nl,tl,rl;if(!zi){Ki=function(){var e,n;_i&&(e=Vi.domain)&&e.exit();while(Qi){n=Qi.fn;Qi=Qi.next;try{n()}catch(e){Qi?Xi():Ji=void 0;throw e}}Ji=void 0;e&&e.enter()};if(Ni||_i||Fi||!Ui||!qi)if(!Di&&Gi&&Gi.resolve){tl=Gi.resolve(void 0);tl.constructor=Gi;rl=Ri(tl.then,tl);Xi=function(){rl(Ki)}}else if(_i)Xi=function(){Vi.nextTick(Ki)};else{Hi=Ri(Hi,Wi);Xi=function(){Hi(Ki)}}else{el=true;nl=qi.createTextNode("");new Ui(Ki).observe(nl,{characterData:true});Xi=function(){nl.data=el=!el}}}var al=zi||function(e){var n={fn:e,next:void 0};Ji&&(Ji.next=n);if(!Qi){Qi=n;Xi()}Ji=n};var ol=i;var hostReportErrors$1=function(e,n){var t=ol.console;t&&t.error&&(arguments.length==1?t.error(e):t.error(e,n))};var perform$3=function(e){try{return{error:false,value:e()}}catch(e){return{error:true,value:e}}};var Queue$1=function(){this.head=null;this.tail=null};Queue$1.prototype={add:function(e){var n={item:e,next:null};this.head?this.tail.next=n:this.head=n;this.tail=n},get:function(){var e=this.head;if(e){this.head=e.next;this.tail===e&&(this.tail=null);return e.item}}};var il=Queue$1;var ll=i;var vl=ll.Promise;var dl=typeof window=="object"&&typeof Deno!="object";var cl=i;var sl=vl;var ul=isCallable$i;var fl=Dr;var pl=rt;var hl=wellKnownSymbol$d;var ml=dl;var gl=J;sl&&sl.prototype;var wl=hl("species");var yl=false;var bl=ul(cl.PromiseRejectionEvent);var Cl=fl("Promise",(function(){var e=pl(sl);var n=e!==String(sl);if(!n&&gl===66)return true;if(gl>=51&&/native code/.test(e))return false;var t=new sl((function(e){e(1)}));var FakePromise=function(e){e((function(){}),(function(){}))};var r=t.constructor={};r[wl]=FakePromise;yl=t.then((function(){}))instanceof FakePromise;return!yl||!n&&ml&&!bl}));var Ll={CONSTRUCTOR:Cl,REJECTION_EVENT:bl,SUBCLASSING:yl};var kl={};var El=aCallable$8;var PromiseCapability=function(e){var n,t;this.promise=new e((function(e,r){if(n!==void 0||t!==void 0)throw TypeError("Bad Promise constructor");n=e;t=r}));this.resolve=El(n);this.reject=El(t)};kl.f=function(e){return new PromiseCapability(e)};var Al=_export;var Sl=no;var Ml=i;var Tl=p;var jl=defineBuiltIn$4;var xl=vo;var Ol=setToStringTag$1;var Il=setSpecies$1;var $l=aCallable$8;var Pl=isCallable$i;var Bl=isObject$8;var Wl=anInstance$1;var Rl=speciesConstructor$1;var Zl=xi.set;var Hl=al;var Nl=hostReportErrors$1;var Dl=perform$3;var Fl=il;var _l=$t;var Ul=vl;var ql=Ll;var Vl=kl;var Gl="Promise";var Yl=ql.CONSTRUCTOR;var zl=ql.REJECTION_EVENT;var Kl=ql.SUBCLASSING;var Ql=_l.getterFor(Gl);var Jl=_l.set;var Xl=Ul&&Ul.prototype;var ev=Ul;var nv=Xl;var tv=Ml.TypeError;var rv=Ml.document;var av=Ml.process;var ov=Vl.f;var iv=ov;var lv=!!(rv&&rv.createEvent&&Ml.dispatchEvent);var vv="unhandledrejection";var dv="rejectionhandled";var cv=0;var sv=1;var uv=2;var fv=1;var pv=2;var hv,mv,gv,wv;var isThenable=function(e){var n;return!(!Bl(e)||!Pl(n=e.then))&&n};var callReaction=function(e,n){var t=n.value;var r=n.state==sv;var a=r?e.ok:e.fail;var o=e.resolve;var i=e.reject;var l=e.domain;var v,d,c;try{if(a){if(!r){n.rejection===pv&&onHandleUnhandled(n);n.rejection=fv}if(a===true)v=t;else{l&&l.enter();v=a(t);if(l){l.exit();c=true}}v===e.promise?i(tv("Promise-chain cycle")):(d=isThenable(v))?Tl(d,v,o,i):o(v)}else i(t)}catch(e){l&&!c&&l.exit();i(e)}};var notify=function(e,n){if(!e.notified){e.notified=true;Hl((function(){var t=e.reactions;var r;while(r=t.get())callReaction(r,e);e.notified=false;n&&!e.rejection&&onUnhandled(e)}))}};var dispatchEvent=function(e,n,t){var r,a;if(lv){r=rv.createEvent("Event");r.promise=n;r.reason=t;r.initEvent(e,false,true);Ml.dispatchEvent(r)}else r={promise:n,reason:t};!zl&&(a=Ml["on"+e])?a(r):e===vv&&Nl("Unhandled promise rejection",t)};var onUnhandled=function(e){Tl(Zl,Ml,(function(){var n=e.facade;var t=e.value;var r=isUnhandled(e);var a;if(r){a=Dl((function(){Sl?av.emit("unhandledRejection",t,n):dispatchEvent(vv,n,t)}));e.rejection=Sl||isUnhandled(e)?pv:fv;if(a.error)throw a.value}}))};var isUnhandled=function(e){return e.rejection!==fv&&!e.parent};var onHandleUnhandled=function(e){Tl(Zl,Ml,(function(){var n=e.facade;Sl?av.emit("rejectionHandled",n):dispatchEvent(dv,n,e.value)}))};var bind$1=function(e,n,t){return function(r){e(n,r,t)}};var internalReject=function(e,n,t){if(!e.done){e.done=true;t&&(e=t);e.value=n;e.state=uv;notify(e,true)}};var internalResolve=function(e,n,t){if(!e.done){e.done=true;t&&(e=t);try{if(e.facade===n)throw tv("Promise can't be resolved itself");var r=isThenable(n);if(r)Hl((function(){var t={done:false};try{Tl(r,n,bind$1(internalResolve,t,e),bind$1(internalReject,t,e))}catch(n){internalReject(t,n,e)}}));else{e.value=n;e.state=sv;notify(e,false)}}catch(n){internalReject({done:false},n,e)}}};if(Yl){ev=function Promise(e){Wl(this,nv);$l(e);Tl(hv,this);var n=Ql(this);try{e(bind$1(internalResolve,n),bind$1(internalReject,n))}catch(e){internalReject(n,e)}};nv=ev.prototype;hv=function Promise(e){Jl(this,{type:Gl,done:false,notified:false,parent:false,reactions:new Fl,rejection:false,state:cv,value:void 0})};hv.prototype=jl(nv,"then",(function then(e,n){var t=Ql(this);var r=ov(Rl(this,ev));t.parent=true;r.ok=!Pl(e)||e;r.fail=Pl(n)&&n;r.domain=Sl?av.domain:void 0;t.state==cv?t.reactions.add(r):Hl((function(){callReaction(r,t)}));return r.promise}));mv=function(){var e=new hv;var n=Ql(e);this.promise=e;this.resolve=bind$1(internalResolve,n);this.reject=bind$1(internalReject,n)};Vl.f=ov=function(e){return e===ev||e===gv?new mv(e):iv(e)};if(Pl(Ul)&&Xl!==Object.prototype){wv=Xl.then;Kl||jl(Xl,"then",(function then(e,n){var t=this;return new ev((function(e,n){Tl(wv,t,e,n)})).then(e,n)}),{unsafe:true});try{delete Xl.constructor}catch(e){}xl&&xl(Xl,nv)}}Al({global:true,constructor:true,wrap:true,forced:Yl},{Promise:ev});Ol(ev,Gl,false);Il(Gl);var yv={};var bv=wellKnownSymbol$d;var Cv=yv;var Lv=bv("iterator");var kv=Array.prototype;var isArrayIteratorMethod$1=function(e){return e!==void 0&&(Cv.Array===e||kv[Lv]===e)};var Ev=va;var Av=getMethod$3;var Sv=yv;var Mv=wellKnownSymbol$d;var Tv=Mv("iterator");var getIteratorMethod$2=function(e){if(e!=void 0)return Av(e,Tv)||Av(e,"@@iterator")||Sv[Ev(e)]};var jv=p;var xv=aCallable$8;var Ov=anObject$c;var Iv=tryToString$5;var $v=getIteratorMethod$2;var Pv=TypeError;var getIterator$1=function(e,n){var t=arguments.length<2?$v(e):n;if(xv(t))return Ov(jv(t,e));throw Pv(Iv(e)+" is not iterable")};var Bv=p;var Wv=anObject$c;var Rv=getMethod$3;var iteratorClose$1=function(e,n,t){var r,a;Wv(e);try{r=Rv(e,"return");if(!r){if(n==="throw")throw t;return t}r=Bv(r,e)}catch(e){a=true;r=e}if(n==="throw")throw t;if(a)throw r;Wv(r);return t};var Zv=functionBindContext;var Hv=p;var Nv=anObject$c;var Dv=tryToString$5;var Fv=isArrayIteratorMethod$1;var _v=lengthOfArrayLike$4;var Uv=D;var qv=getIterator$1;var Vv=getIteratorMethod$2;var Gv=iteratorClose$1;var Yv=TypeError;var Result=function(e,n){this.stopped=e;this.result=n};var zv=Result.prototype;var iterate$2=function(e,n,t){var r=t&&t.that;var a=!!(t&&t.AS_ENTRIES);var o=!!(t&&t.IS_ITERATOR);var i=!!(t&&t.INTERRUPTED);var l=Zv(n,r);var v,d,c,s,u,f,p;var stop=function(e){v&&Gv(v,"normal",e);return new Result(true,e)};var callFn=function(e){if(a){Nv(e);return i?l(e[0],e[1],stop):l(e[0],e[1])}return i?l(e,stop):l(e)};if(o)v=e;else{d=Vv(e);if(!d)throw Yv(Dv(e)+" is not iterable");if(Fv(d)){for(c=0,s=_v(e);s>c;c++){u=callFn(e[c]);if(u&&Uv(zv,u))return u}return new Result(false)}v=qv(e,d)}f=v.next;while(!(p=Hv(f,v)).done){try{u=callFn(p.value)}catch(e){Gv(v,"throw",e)}if(typeof u=="object"&&u&&Uv(zv,u))return u}return new Result(false)};var Kv=wellKnownSymbol$d;var Qv=Kv("iterator");var Jv=false;try{var Xv=0;var ed={next:function(){return{done:!!Xv++}},return:function(){Jv=true}};ed[Qv]=function(){return this};Array.from(ed,(function(){throw 2}))}catch(e){}var checkCorrectnessOfIteration$1=function(e,n){if(!n&&!Jv)return false;var t=false;try{var r={};r[Qv]=function(){return{next:function(){return{done:t=true}}}};e(r)}catch(e){}return t};var nd=vl;var td=checkCorrectnessOfIteration$1;var rd=Ll.CONSTRUCTOR;var ad=rd||!td((function(e){nd.all(e).then(void 0,(function(){}))}));var od=_export;var id=p;var ld=aCallable$8;var vd=kl;var dd=perform$3;var cd=iterate$2;var sd=ad;od({target:"Promise",stat:true,forced:sd},{all:function all(e){var n=this;var t=vd.f(n);var r=t.resolve;var a=t.reject;var o=dd((function(){var t=ld(n.resolve);var o=[];var i=0;var l=1;cd(e,(function(e){var v=i++;var d=false;l++;id(t,n,e).then((function(e){if(!d){d=true;o[v]=e;--l||r(o)}}),a)}));--l||r(o)}));o.error&&a(o.value);return t.promise}});var ud=_export;var fd=Ll.CONSTRUCTOR;var pd=vl;var hd=getBuiltIn$8;var md=isCallable$i;var gd=defineBuiltIn$4;var wd=pd&&pd.prototype;ud({target:"Promise",proto:true,forced:fd,real:true},{catch:function(e){return this.then(void 0,e)}});if(md(pd)){var yd=hd("Promise").prototype.catch;wd.catch!==yd&&gd(wd,"catch",yd,{unsafe:true})}var bd=_export;var Cd=p;var Ld=aCallable$8;var kd=kl;var Ed=perform$3;var Ad=iterate$2;var Sd=ad;bd({target:"Promise",stat:true,forced:Sd},{race:function race(e){var n=this;var t=kd.f(n);var r=t.reject;var a=Ed((function(){var a=Ld(n.resolve);Ad(e,(function(e){Cd(a,n,e).then(t.resolve,r)}))}));a.error&&r(a.value);return t.promise}});var Md=_export;var Td=p;var jd=kl;var xd=Ll.CONSTRUCTOR;Md({target:"Promise",stat:true,forced:xd},{reject:function reject(e){var n=jd.f(this);Td(n.reject,void 0,e);return n.promise}});var Od=anObject$c;var Id=isObject$8;var $d=kl;var promiseResolve$1=function(e,n){Od(e);if(Id(n)&&n.constructor===e)return n;var t=$d.f(e);var r=t.resolve;r(n);return t.promise};var Pd=_export;var Bd=getBuiltIn$8;var Wd=Ll.CONSTRUCTOR;var Rd=promiseResolve$1;Bd("Promise");Pd({target:"Promise",stat:true,forced:Wd},{resolve:function resolve(e){return Rd(this,e)}});var Zd=_export;var Hd=d;var Nd=i;var Dd=E;var Fd=$e;var _d=isCallable$i;var Ud=D;var qd=toString$5;var Vd=Ln.f;var Gd=copyConstructorProperties$2;var Yd=Nd.Symbol;var zd=Yd&&Yd.prototype;if(Hd&&_d(Yd)&&(!("description"in zd)||Yd().description!==void 0)){var Kd={};var Qd=function Symbol(){var e=arguments.length<1||arguments[0]===void 0?void 0:qd(arguments[0]);var n=Ud(zd,this)?new Yd(e):e===void 0?Yd():Yd(e);e===""&&(Kd[n]=true);return n};Gd(Qd,Yd);Qd.prototype=zd;zd.constructor=Qd;var Jd=String(Yd("test"))=="Symbol(test)";var Xd=Dd(zd.toString);var ec=Dd(zd.valueOf);var nc=/^Symbol\((.*)\)[^)]+$/;var tc=Dd("".replace);var rc=Dd("".slice);Vd(zd,"description",{configurable:true,get:function description(){var e=ec(this);var n=Xd(e);if(Fd(Kd,e))return"";var t=Jd?rc(n,7,-1):tc(n,nc,"$1");return t===""?void 0:t}});Zd({global:true,constructor:true,forced:true},{Symbol:Qd})}var ac={};var oc=objectKeysInternal;var ic=wr;var lc=Object.keys||function keys(e){return oc(e,ic)};var vc=d;var dc=An;var cc=Ln;var sc=anObject$c;var uc=toIndexedObject$4;var fc=lc;ac.f=vc&&!dc?Object.defineProperties:function defineProperties(e,n){sc(e);var t=uc(n);var r=fc(n);var a=r.length;var o=0;var i;while(a>o)cc.f(e,i=r[o++],t[i]);return e};var pc=anObject$c;var hc=ac;var mc=wr;var gc=ut;var wc=Jo;var yc=documentCreateElement$1;var bc=sharedKey$2;var Cc=">";var Lc="<";var kc="prototype";var Ec="script";var Ac=bc("IE_PROTO");var EmptyConstructor=function(){};var scriptTag=function(e){return Lc+Ec+Cc+e+Lc+"/"+Ec+Cc};var NullProtoObjectViaActiveX=function(e){e.write(scriptTag(""));e.close();var n=e.parentWindow.Object;e=null;return n};var NullProtoObjectViaIFrame=function(){var e=yc("iframe");var n="java"+Ec+":";var t;e.style.display="none";wc.appendChild(e);e.src=String(n);t=e.contentWindow.document;t.open();t.write(scriptTag("document.F=Object"));t.close();return t.F};var Sc;var NullProtoObject=function(){try{Sc=new ActiveXObject("htmlfile")}catch(e){}NullProtoObject=typeof document!="undefined"?document.domain&&Sc?NullProtoObjectViaActiveX(Sc):NullProtoObjectViaIFrame():NullProtoObjectViaActiveX(Sc);var e=mc.length;while(e--)delete NullProtoObject[kc][mc[e]];return NullProtoObject()};gc[Ac]=true;var Mc=Object.create||function create(e,n){var t;if(e!==null){EmptyConstructor[kc]=pc(e);t=new EmptyConstructor;EmptyConstructor[kc]=null;t[Ac]=e}else t=NullProtoObject();return n===void 0?t:hc.f(t,n)};var Tc=wellKnownSymbol$d;var jc=Mc;var xc=Ln.f;var Oc=Tc("unscopables");var Ic=Array.prototype;Ic[Oc]==void 0&&xc(Ic,Oc,{configurable:true,value:jc(null)});var addToUnscopables$1=function(e){Ic[Oc][e]=true};var $c=_export;var Pc=sr.includes;var Bc=fails$f;var Wc=addToUnscopables$1;var Rc=Bc((function(){return!Array(1).includes()}));$c({target:"Array",proto:true,forced:Rc},{includes:function includes(e){return Pc(this,e,arguments.length>1?arguments[1]:void 0)}});Wc("includes");var Zc=isObject$8;var Hc=classofRaw$1;var Nc=wellKnownSymbol$d;var Dc=Nc("match");var isRegexp=function(e){var n;return Zc(e)&&((n=e[Dc])!==void 0?!!n:Hc(e)=="RegExp")};var Fc=isRegexp;var _c=TypeError;var notARegexp=function(e){if(Fc(e))throw _c("The method doesn't accept regular expressions");return e};var Uc=wellKnownSymbol$d;var qc=Uc("match");var correctIsRegexpLogic=function(e){var n=/./;try{"/./"[e](n)}catch(t){try{n[qc]=false;return"/./"[e](n)}catch(e){}}return false};var Vc=_export;var Gc=E;var Yc=notARegexp;var zc=requireObjectCoercible$4;var Kc=toString$5;var Qc=correctIsRegexpLogic;var Jc=Gc("".indexOf);Vc({target:"String",proto:true,forced:!Qc("includes")},{includes:function includes(e){return!!~Jc(Kc(zc(this)),Kc(Yc(e)),arguments.length>1?arguments[1]:void 0)}});var Xc="\t\n\v\f\r                　\u2028\u2029\ufeff";var es=E;var ns=requireObjectCoercible$4;var ts=toString$5;var rs=Xc;var as=es("".replace);var os="["+rs+"]";var is=RegExp("^"+os+os+"*");var ls=RegExp(os+os+"*$");var createMethod=function(e){return function(n){var t=ts(ns(n));e&1&&(t=as(t,is,""));e&2&&(t=as(t,ls,""));return t}};var vs={start:createMethod(1),end:createMethod(2),trim:createMethod(3)};var ds=i;var cs=fails$f;var ss=E;var us=toString$5;var fs=vs.trim;var ps=Xc;var hs=ds.parseInt;var ms=ds.Symbol;var gs=ms&&ms.iterator;var ws=/^[+-]?0x/i;var ys=ss(ws.exec);var bs=hs(ps+"08")!==8||hs(ps+"0x16")!==22||gs&&!cs((function(){hs(Object(gs))}));var Cs=bs?function parseInt(e,n){var t=fs(us(e));return hs(t,n>>>0||(ys(ws,t)?16:10))}:hs;var Ls=_export;var ks=Cs;Ls({global:true,forced:parseInt!=ks},{parseInt:ks});var Es=anObject$c;var regexpFlags=function(){var e=Es(this);var n="";e.hasIndices&&(n+="d");e.global&&(n+="g");e.ignoreCase&&(n+="i");e.multiline&&(n+="m");e.dotAll&&(n+="s");e.unicode&&(n+="u");e.unicodeSets&&(n+="v");e.sticky&&(n+="y");return n};var As=p;var Ss=$e;var Ms=D;var Ts=regexpFlags;var js=RegExp.prototype;var regexpGetFlags=function(e){var n=e.flags;return n!==void 0||"flags"in js||Ss(e,"flags")||!Ms(js,e)?n:As(Ts,e)};var xs=Jn.PROPER;var Os=defineBuiltIn$4;var Is=anObject$c;var $s=toString$5;var Ps=fails$f;var Bs=regexpGetFlags;var Ws="toString";var Rs=RegExp.prototype;var Zs=Rs[Ws];var Hs=Ps((function(){return Zs.call({source:"a",flags:"b"})!="/a/b"}));var Ns=xs&&Zs.name!=Ws;(Hs||Ns)&&Os(RegExp.prototype,Ws,(function toString(){var e=Is(this);var n=$s(e.source);var t=$s(Bs(e));return"/"+n+"/"+t}),{unsafe:true});const Ds='\n<svg width="8" height="14" viewBox="0 0 8 14"\n  fill="none" xmlns="http://www.w3.org/2000/svg">\n  <path d="M7 13L1 7L7 1" stroke="#6494EE" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round">\n  </path>\n</svg>';const Fs='\n<svg\n  xmlns="http://www.w3.org/2000/svg" height="24" viewBox="0 0 24 24" width="24" fill="#C1C1C1">\n  <path d="M0 0h24v24H0z" fill="none"></path>\n  <path\n    d="M19 6.41L17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z">\n  </path>\n</svg>';function renderLedgerSelectAccount(n,t){var r,a,o;return __awaiter(this,void 0,void 0,(function*(){if(au){document.querySelector(".modal-right").innerHTML=`\n    <div class="nws-modal-body">\n      <div class="nws-modal-header-wrapper"><button class="back-button" id="back-button">${Ds}</button>\n        <div class="nws-modal-header">\n          <h3 class="middleTitle">${e("modal.ledger.selectYourAccounts")}</h3>\n            <button class="close-button">${Fs}</button>\n        </div>\n      </div>\n      <div class="derivation-path-wrapper">\n        <div class="choose-ledger-account-form-wrapper">\n          <p>We found ${t.length} accounts on your device. Select the account(s) you wish to connect.</p>\n          <div class="button-wrapper"><button id="change-derivation-path-button">HD.../${au.derivationPath.slice(-2,-1)}</button></div>\n          <form class="form">\n            <div>\n              <div class="nws-form-control">\n                <div id="accounts"></div>\n              <div class="action-buttons"><button class="middleButton" id="connect-button">Connect</button></div>\n            </div>\n          </form>\n        </div>\n      </div>\n    </div>\n  `;for(let e=0;e<t.length;e++)(r=document.getElementById("accounts"))===null||r===void 0?void 0:r.insertAdjacentHTML("beforeend",`\n      <div class="account">\n        <input type="checkbox" id="${t[e].accountId}" name="account" value="${t[e].accountId}" ${e===0?"checked":""}>\n        <label for="${t[e].accountId}"> ${t[e].accountId}</label>\n        <br>\n      </div>\n      `);(a=document.getElementById("change-derivation-path-button"))===null||a===void 0?void 0:a.addEventListener("click",(()=>{renderSpecifyDerivationPath(n)}));(o=document.getElementById("connect-button"))===null||o===void 0?void 0:o.addEventListener("click",(e=>{e.preventDefault();const r=Array.from(document.querySelectorAll("input[name='account']")).map((e=>e.checked));const a=t.filter(((e,n)=>r[n]));a.length<1||renderLedgerAccountsOverviewList(n,t,a)}))}}))}const _s='\n<svg\n  width="21"\n  height="20"\n  viewBox="0 0 21 20"\n  fill="none"\n  xmlns="http://www.w3.org/2000/svg"\n>\n  <path\n    d="M10.5001 18.3333C15.1025 18.3333 18.8334 14.6023 18.8334 9.99996C18.8334 5.39759 15.1025 1.66663 10.5001 1.66663C5.89771 1.66663 2.16675 5.39759 2.16675 9.99996C2.16675 14.6023 5.89771 18.3333 10.5001 18.3333Z"\n    stroke="#CE5A6F"\n    stroke-width="2"\n    stroke-linecap="round"\n    stroke-linejoin="round"\n  />\n  <path\n    d="M13 7.5L8 12.5"\n    stroke="#CE5A6F"\n    stroke-width="2"\n    stroke-linecap="round"\n    stroke-linejoin="round"\n  />\n  <path\n    d="M8 7.5L13 12.5"\n    stroke="#CE5A6F"\n    stroke-width="2"\n    stroke-linecap="round"\n    stroke-linejoin="round"\n  />\n</svg>';function renderWalletConnectionFailed(n,t){var r;return __awaiter(this,void 0,void 0,(function*(){document.querySelector(".modal-right").innerHTML=`\n    <div class="nws-modal-body">\n      <div class="nws-modal-header">\n        <h3 class="middleTitle"></h3>\n        <button class="close-button">\n          ${Fs}\n        </button>\n      </div>\n      <div class="alert-message connecting-wrapper connecting-wrapper-err">\n        <div class="content">\n          <div class="icon"><img src="${n.metadata.iconUrl}" alt="${n.metadata.name}"></div>\n          <h3 class="connecting-name">${n.metadata.name}</h3>\n          <div class="connecting-details">\n            <div class="connection">\n              <div class="error-wrapper">\n                <div class="error">\n                    ${_s}\n                  ${e("modal.wallet.connectionFailed")}\n                </div>\n                  <p>${t&&t.message?t.message:""}</p>\n                  ${!(n===null||n===void 0?void 0:n.metadata.deprecated)&&(n===null||n===void 0?void 0:n.metadata.available)?`<button id='retry-button'>${e("modal.ledger.retry")}</button>`:""}\n              </div>\n            </div>\n          </div>\n        </div>\n      </div>\n    </div>\n  `;(r=document.getElementById("retry-button"))===null||r===void 0?void 0:r.addEventListener("click",(()=>{connectToWallet(n,false)}))}))}function renderLedgerAccountsOverviewList(n,t,r){var a,o,i;return __awaiter(this,void 0,void 0,(function*(){document.querySelector(".modal-right").innerHTML=`\n    <div class="nws-modal-body">\n    <div class="nws-modal-header-wrapper">\n      <button class="back-button" id="back-button">\n        ${Ds}\n      </button>\n        <div class="nws-modal-header">\n          <h3 class="middleTitle">\n          ${e("modal.ledger.connecting")} ${r.length} ${e("modal.ledger.ofAccounts")}\n          </h3>\n    <button class="close-button">${Fs}</button>\n        </div>\n      </div>\n      <div class="derivation-path-wrapper">\n        <div class="overview-wrapper">\n          <p>\n            ${e("modal.ledger.overviewTheListOfAuthorized")}\n          </p>\n          <div class="accounts" id="accounts"></div>\n          <div class="action-buttons">\n            <button class="middleButton" id="finish-button">\n              ${e("modal.ledger.finish")}\n            </button>\n          </div>\n        </div>\n      </div>\n    </div>\n  `;for(let e=0;e<r.length;e++)(a=document.getElementById("accounts"))===null||a===void 0?void 0:a.insertAdjacentHTML("beforeend",`\n        <div>\n          <div class="account">\n            <span>${r[e].accountId}</span>\n          </div>\n        </div>\n      `);(o=document.getElementById("back-button"))===null||o===void 0?void 0:o.addEventListener("click",(()=>{renderLedgerSelectAccount(n,t)}));(i=document.getElementById("finish-button"))===null||i===void 0?void 0:i.addEventListener("click",(()=>__awaiter(this,void 0,void 0,(function*(){try{if(!au)return;const e=yield n.wallet();e.signIn({contractId:au.options.contractId,methodNames:au.options.methodNames,accounts:r});au.container.children[0].classList.remove("open");au.emitter.emit("onHide",{hideReason:"wallet-navigation"})}catch(e){yield renderWalletConnectionFailed(n,e)}}))))}))}function renderNoLedgerAccountsFound(n){var t;return __awaiter(this,void 0,void 0,(function*(){document.querySelector(".modal-right").innerHTML=`\n    <div class="nws-modal-body">\n      <div class="nws-modal-header-wrapper"><button class="back-button" id="back-button">${Ds}</button>\n        <div class="nws-modal-header">\n          <h3 class="middleTitle">\n            ${e("modal.ledger.noAccountsFound")}\n          </h3>\n          <button class="close-button">${Fs}</button>\n        </div>\n      </div>\n      <div class="derivation-path-wrapper">\n        <div class="no-accounts-found-wrapper">\n          <p>\n            ${e("modal.ledger.cantFindAnyAccount")}\n            <a href="https://testnet.mynearwallet.com/create" target="_blank">MyNearWallet</a>\n            ${e("modal.ledger.orConnectAnAnotherLedger")}\n          </p>\n        </div>\n      </div>\n    </div>\n  `;(t=document.getElementById("back-button"))===null||t===void 0?void 0:t.addEventListener("click",(()=>{renderConnectHardwareWallet(n)}))}))}function renderWalletConnecting(n=null){return __awaiter(this,void 0,void 0,(function*(){document.querySelector(".modal-right").innerHTML=`\n    <div class="nws-modal-body">\n      <div class="nws-modal-header">\n        <h3 class="middleTitle"></h3>\n        <button class="close-button">\n          ${Fs}\n        </button>\n      </div>\n      <div class="connecting-wrapper">\n        <div class="content">\n          <div class="icon">\n            <img src="${n===null||n===void 0?void 0:n.metadata.iconUrl}" alt="${n===null||n===void 0?void 0:n.metadata.name}">\n          </div>\n          <h3 class="connecting-name">${n===null||n===void 0?void 0:n.metadata.name}</h3>\n          <div class="connecting-details">\n            <div class="spinner"><img\n                src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABkAAAAZCAYAAADE6YVjAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAR3SURBVHgBpVZ9aJVVGH+e55z33bi7zY9hMz+yMAeNoEIq6A9ZRKQWEsQNFIIpsf5Y9E+GsD9iBEEDMUkDa6ShRKKZYIWiRkaKaUGUGCKOTGMF84PNO99773vOefq9720yK5ZzD/dwPt/nd37P17lEk5Qnuz9roUkKT7T5bNe+QjTNLCHv24h1Xgh+OmtwQYPH2jUXwlnW9NRooqePfLS6MmmQ59cdeEGJlkJZA5MGVecoAwghBYZTVY9ftuaDSy8x8w9fbFl95JZAXuw9dmelkvRAyXxS7wMFryG4bIyWZiqzPgMhaFfGfn3NY3AZG9sPf/Dy8HidZvxkZc/h1pqnPlKey6yspMqUd9jVAEYY6RCGDQTwjGDwGTgAlbwRijV1C9vanz577tT+6r+YrOz5rlXFrQ/qZ+FbDxCfXS5oOgxln4v473f3rbgwdn7FK5/MCaH2eAg6X8g3K2iBMTiBkNJVKbod+ze9mgPZsY/UaicYzCE1HgpZc558olCTjTvWLxv9p1n3bV45iO7T5zq3TU9j9xTOLwQ5D9t48aEYrtGj2P/2BpNS78nZJoRdlDsYd8vphz273lqyhW5Rnlnz3hOe6SEwghvxPUMTVfYe2rpuUOqOkZeIxdSbsSJ8eTIAmXy5tftrMPkzi0C4B2ZDNHp+INvLQURkhYiJ6gDGko376DbEJ8k3mcnYBSeSM2ptL/XGsurNnxfnDIQNwCKADO1845Ef6Tbk0M51g4joMgncDyBmkrtsNEMQovcDxGYsGL2yDNAUxPv0VySs4yxhfeYbabJg0Awg+ILylEB6nKMpSOp0WCR1+QSuD4ELljNDEfyRrdXPCU1BTEgD7pyOzVmC2iBm0KgYAMCEeXovoClIjdKiVdQ3FYbzmatxWRqMPcNsDHyfNWskWk5TkJhNEwVyxA6hLL5clLJsW7voFxa6LiR5CCOeWzo3XFxKtyEdy3tnp7VahAoDp6PEVGvJye09l3P7K9k9WQijXBv4B6WG+0pvD0ybFEBHZ6OPh+/OGaBsIvNRAGp/ZHv1jJeon+omszBkFsr3FhsLB7rev3JLQKVSyfjmaW2BJSavDlqR7c5VrR+4AbLttbkXMehH7gjA8gZiD/tq+Or/ABZ3dUW/J62LcPUGcrW8pKSVFAg6cHz3O0l25qZHa/XGwWPg9aAwwzdZAaDX+7tbNsMYf5+bpaUS0dDQEF8rtsUxCbI5e5KRzGhBMiqNxllKju7d8NOYXjseRBytQngcVDL3wD9H+7vf3YS7mnnzqrZpwSxrwkh04cpM5NTMyJdHbIgaESyxJ6tZ5cDbw3qd0tqVCp25Se/4yYdr5/zm/ehjwvpxZHgN0Wlub0/Yt7awdykqRYFHy6NUQVrBd4o6p6ngrVL2Bo8ksuJqoXzq9Ln9m6rj9U74b6Wjo8OeP082aY5NUxRsYzwDkeFsU+MdUU3U4PG0QtbahqhadDMuHTy4fvS/9EwIUpdeuW/ZiShOipFxURRbNdWETFMRZrCFlEZGkuPHdycTafgLExNiI6YfUpcAAAAASUVORK5CYII="\n                alt="loading-icon"></div>\n                <span>\n                  ${e("modal.wallet.connectingTo")} ${n===null||n===void 0?void 0:n.metadata.name}...\n                </span>\n        </div>\n          <div class="connecting-message">\n            <span>\n              ${e("modal.wallet.connectingMessage."+(n===null||n===void 0?void 0:n.type))}\n            </span>\n          </div>\n      </div>\n    </div>\n  </div>\n  `}))}const Us='\n<svg width="10" height="7" viewBox="0 0 10 7" fill="none"\n  xmlns="http://www.w3.org/2000/svg">\n  <path d="M9 5.4762L5 1.4762L1 5.4762" stroke="#4F7CD1" stroke-width="1.5" stroke-linecap="round"\n    stroke-linejoin="round"></path>\n</svg>';const qs='\n<svg width="10" height="7" viewBox="0 0 10 7" fill="none"\n  xmlns="http://www.w3.org/2000/svg">\n  <path d="M1 1.52382L5 5.52382L9 1.52382" stroke="#4F7CD1" stroke-width="1.5" stroke-linecap="round"\n    stroke-linejoin="round"></path>\n</svg>';function renderSpecifyDerivationPath(n){var t,r,a,o;if(!au)return;document.querySelector(".modal-right").innerHTML=`\n    <div class="nws-modal-body">\n      <div class="nws-modal-header-wrapper"><button class="back-button" id="back-button">${Ds}</button>\n        <div class="nws-modal-header">\n          <h3 class="middleTitle">\n            ${e("modal.ledger.specifyHDPath")}\n          </h3>\n          <button class="close-button">\n            ${Fs}\n          </button>\n        </div>\n      </div>\n      <div class="derivation-path-wrapper">\n        <div class="specify-path-wrapper">\n          <div class="change-path-wrapper">\n            <div class="display-path"><span>44'/397'/0'/0'/</span></div>\n            <div class="change-path">\n              <div class="path-value"><span id="derivation-path-index"></span></div>\n              <div class="buttons-wrapper">\n                <button id="increase-index-button">\n                  ${Us}\n                </button>\n                <button id="decrease-index-button">\n                  ${qs}\n                </button>\n              </div>\n            </div>\n          </div>\n          <p class="path-description">\n            ${e("modal.ledger.enterYourPreferredHDPath")}\n          </p>\n          <p class="what-link">\n            <a\n              href="https://www.ledger.com/academy/crypto/what-are-hierarchical-deterministic-hd-wallets"\n              target="_blank"\n            >\n              What's this?\n            </a>\n          </p>\n          <div class="action-buttons">\n            <button class="middleButton" id="scan-button">\n            ${e("modal.ledger.scan")}\n            </button>\n          </div>\n        </div>\n      </div>\n    </div>\n  `;const i=document.getElementById("derivation-path-index");i.innerText=au.derivationPath.slice(-2,-1);(t=document.getElementById("increase-index-button"))===null||t===void 0?void 0:t.addEventListener("click",(()=>{if(!au)return;const e=parseInt(i.innerText)+1;au.derivationPath=au.derivationPath.slice(0,-2)+e.toString()+"'";i.innerText=e.toString()}));(r=document.getElementById("decrease-index-button"))===null||r===void 0?void 0:r.addEventListener("click",(()=>{if(!au)return;const e=parseInt(i.innerText)-1;au.derivationPath=au.derivationPath.slice(0,-2)+e.toString()+"'";e>=0&&(i.innerText=e.toString())}));(a=document.getElementById("back-button"))===null||a===void 0?void 0:a.addEventListener("click",(()=>{renderConnectHardwareWallet(n)}));(o=document.getElementById("scan-button"))===null||o===void 0?void 0:o.addEventListener("click",(()=>__awaiter(this,void 0,void 0,(function*(){try{const e=yield n.wallet();renderWalletConnecting(n);const t=yield resolveAccounts(e);if(!t||t.length<1)return renderNoLedgerAccountsFound(n);t.length===1&&renderLedgerAccountsOverviewList(n,t,t);renderLedgerSelectAccount(n,t)}catch(e){yield renderWalletConnectionFailed(n,e)}}))))}const Vs='\n<svg width="317" height="157" viewBox="0 0 317 157" fill="none"\n  xmlns="http://www.w3.org/2000/svg">\n  <path fill-rule="evenodd" clip-rule="evenodd"\n    d="M249.99 16.0994C270.063 -0.864155 289.788 1.58873 301.497 10.7365C307.402 15.3499 311.278 21.6575 312.267 28.1258C313.247 34.5412 311.413 41.2233 305.692 46.8044C297.366 54.9273 286.343 55.3362 273.015 51.5109C261.654 48.25 249.058 42.0377 235.726 35.4627L235.726 35.4626L235.717 35.458C233.367 34.2992 230.995 33.129 228.602 31.9618C212.742 24.2253 196.067 16.6575 179.842 13.8595C163.538 11.0479 147.552 13.0313 133.266 24.522C128.032 28.732 123.478 35.2086 121.716 44.8205C119.961 54.3947 120.992 66.9771 126.703 83.4311C135.432 108.583 132.899 126.677 123.575 138.063C114.217 149.491 97.5614 154.733 76.7887 153.121C55.0043 151.43 29.0621 142.206 3.29867 125.227L0.887817 127.942C27.2472 145.405 53.9251 154.952 76.5105 156.705C97.9028 158.365 115.96 153.035 126.356 140.341C136.785 127.606 139.045 108.029 130.099 82.2524C124.521 66.1801 123.642 54.2493 125.252 45.4687C126.854 36.7258 130.94 31.006 135.519 27.3232C148.794 16.6458 163.649 14.715 179.231 17.4021C194.891 20.1027 211.146 27.4463 227.026 35.1928C229.381 36.3415 231.729 37.5001 234.066 38.6531L234.073 38.6568C247.382 45.223 260.324 51.608 272.024 54.9662C285.819 58.9258 298.493 58.8501 308.202 49.3776C314.764 42.9759 316.974 35.1288 315.82 27.5826C314.675 20.0893 310.237 13.0029 303.71 7.90363C290.555 -2.37382 268.938 -4.62038 247.67 13.3537L249.99 16.0994Z"\n    fill="url(#paint0_linear_3_672)"></path>\n  <path d="M260.264 17.8767L177.605 89.4649L157.679 73.9664L239.23 3.85423L260.264 17.8767Z" fill="#6A7075">\n  </path>\n  <path d="M205.939 54.4577L199.764 50.2636L233.316 20.9053L239.907 25.8395L205.939 54.4577Z" fill="#494E52">\n  </path>\n  <path d="M260.264 17.8757L177.605 89.4639L182.033 98.3202L264.323 26.363L260.264 17.8757Z" fill="#494E52">\n  </path>\n  <path d="M177.236 89.4646L181.295 98.3209L165.059 85.7745L170.963 85.0365L177.236 89.4646Z" fill="black">\n  </path>\n  <path d="M93.4708 99.6384L91.9948 110.13L174.653 92.894L164.69 85.7749L93.4708 99.6384Z" fill="#DCDADA">\n  </path>\n  <path d="M93.1157 104.323L94.314 100.129L165.613 86.3483L169.208 89.344L93.1157 104.323Z" fill="#C1C1C1">\n  </path>\n  <path d="M94.2086 99.7963L86.0903 101.272L92.3635 110.129L94.2086 99.7963Z" fill="#B3AAAA"></path>\n  <path fill-rule="evenodd" clip-rule="evenodd"\n    d="M86.0903 100.907L89.0027 74.1304L178.455 55.2416C184.695 53.9962 195.766 54.7675 197.177 63.7058C198.284 70.717 195.506 73.9943 191.628 77.3592C188.495 80.0671 180.152 82.4646 178.343 82.8944C178.293 82.9064 178.241 82.9188 178.186 82.9319C177.38 83.1245 176.007 83.4525 170.644 84.5088C169.085 84.8158 167.382 85.1501 165.557 85.5078L164.933 85.63C146.312 89.2764 115.528 95.2297 93.9844 99.3849C91.1808 99.9257 88.5337 100.436 86.0903 100.907ZM185.076 75.554C190.748 73.3535 193.99 68.0745 192.318 63.7631C190.645 59.4517 184.691 57.7405 179.019 59.941C173.347 62.1416 170.105 67.4206 171.778 71.732C173.45 76.0434 179.404 77.7546 185.076 75.554Z"\n    fill="#F4F1E8"></path>\n  <path d="M199.764 50.3994L196.768 48.3043L232.194 18.0454L233.316 21.6403L199.764 50.3994Z" fill="black">\n  </path>\n  <path d="M239.968 25.9943L232.588 20.4592V17.5071L241.813 24.5183L239.968 25.9943Z" fill="black"></path>\n  <ellipse cx="182.084" cy="68.0811" rx="10.242" ry="7.46772" transform="rotate(-23.7949 182.084 68.0811)"\n    fill="#494E52"></ellipse>\n  <ellipse cx="182.084" cy="68.0816" rx="6.68462" ry="4.87394" transform="rotate(-23.7949 182.084 68.0816)"\n    fill="#494E52"></ellipse>\n  <path fill-rule="evenodd" clip-rule="evenodd"\n    d="M238.725 2.93094L260.368 17.2564L264.865 26.4556L181.615 99.0341L175.16 94.311L92.0028 110.947L85.3267 101.399L88.3269 73.8157L178.118 54.8553L238.725 2.93094ZM178.599 56.2622L89.6786 75.0388L86.9321 100.29C89.0979 99.8725 91.4124 99.4263 93.8446 98.9572C115.388 94.8019 146.171 88.8488 164.791 85.2026L165.415 85.0804C167.24 84.7228 168.943 84.3885 170.501 84.0816C175.853 83.0275 177.219 82.701 178.015 82.5107C178.07 82.4976 178.122 82.4852 178.173 82.4732C179.048 82.2652 181.558 81.5669 184.235 80.5851C186.742 79.6655 189.286 78.5354 190.802 77.3758L191.151 77.0922L191.644 76.6595C193.341 75.147 194.723 73.6739 195.61 71.871C196.571 69.916 196.982 67.5029 196.448 64.1178C195.8 60.0131 192.959 57.7574 189.408 56.6566C185.833 55.5483 181.637 55.6566 178.603 56.2615C178.601 56.2617 178.6 56.262 178.599 56.2622ZM192.631 77.7565L259.555 18.9531L263.042 26.0869L181.808 96.9078L178.132 89.5713L191.724 78.529C191.859 78.4249 191.988 78.32 192.11 78.2144L192.111 78.2136C192.286 78.0617 192.46 77.9094 192.631 77.7565ZM185.491 81.6908C185.24 81.7868 184.99 81.8802 184.743 81.9709C182.013 82.9723 179.447 83.6875 178.514 83.9093C178.463 83.9213 178.411 83.9338 178.356 83.9468C177.635 84.1192 176.472 84.3971 172.491 85.1919L177.172 88.4492L185.491 81.6908ZM176.631 89.8707L170.479 85.5903C169.306 85.8213 168.054 86.0673 166.731 86.3265L175.769 92.9276L179.548 95.6924L176.631 89.8707ZM164.758 86.7132C146.252 90.3362 116.027 96.1817 94.6324 100.308L93.2258 109.197L173.543 93.1293L164.758 86.7132ZM91.888 108.207L93.0909 100.606C91.0848 100.993 89.1642 101.363 87.3471 101.713L91.888 108.207ZM258.581 17.8436L197.306 71.6841C198.142 69.5779 198.41 67.0795 197.906 63.8876C197.143 59.0539 193.743 56.4549 189.845 55.2467C186.921 54.3402 183.662 54.1916 180.861 54.449L238.84 4.77668L258.581 17.8436ZM232.505 16.82L243.089 24.5643L205.915 56.5106L196.042 48.0665L232.505 16.82ZM232.118 19.096L198.312 48.0654L199.744 49.29L232.584 20.9424L232.118 19.096ZM233.456 22.1396L200.878 50.2604L205.913 54.5664L239.041 26.0969L233.456 22.1396ZM240.195 25.1054L240.717 24.6571L233.759 19.5663L234.06 20.7586L240.195 25.1054Z"\n    fill="black"></path>\n  <path fill-rule="evenodd" clip-rule="evenodd"\n    d="M190.194 69.9744C191.32 68.1409 191.576 66.2271 190.942 64.5937C190.308 62.9603 188.829 61.7198 186.761 61.1254C184.691 60.5307 182.116 60.6196 179.553 61.6139C176.991 62.6081 175.029 64.2794 173.902 66.1141C172.776 67.9477 172.52 69.8614 173.154 71.4948C173.788 73.1282 175.267 74.3687 177.335 74.9631C179.405 75.5578 181.98 75.4689 184.543 74.4746C187.105 73.4804 189.067 71.8091 190.194 69.9744ZM185.077 75.8508C190.749 73.6502 193.991 68.3712 192.318 64.0598C190.645 59.7484 184.691 58.0372 179.019 60.2378C173.347 62.4383 170.105 67.7173 171.778 72.0287C173.451 76.3401 179.405 78.0513 185.077 75.8508Z"\n    fill="black"></path>\n  <path fill-rule="evenodd" clip-rule="evenodd"\n    d="M187.391 69.169C188.127 67.9713 188.266 66.7721 187.881 65.7812C187.497 64.7903 186.586 63.9984 185.235 63.6102C183.883 63.2216 182.173 63.2741 180.456 63.9404C178.738 64.6068 177.441 65.7208 176.705 66.9196C175.969 68.1172 175.83 69.3165 176.215 70.3074C176.599 71.2983 177.511 72.0901 178.861 72.4783C180.214 72.8669 181.923 72.8144 183.64 72.1481C185.358 71.4818 186.655 70.3678 187.391 69.169ZM184.174 73.5242C188.156 71.9795 190.432 68.2738 189.257 65.2473C188.083 62.2208 183.904 61.0196 179.922 62.5643C175.94 64.1091 173.665 67.8148 174.839 70.8412C176.013 73.8677 180.193 75.0689 184.174 73.5242Z"\n    fill="black"></path>\n  <path\n    d="M240.499 41.2441C239.744 40.3649 239.844 39.04 240.724 38.285L249.781 30.5067C250.66 29.7516 251.985 29.8523 252.74 30.7315V30.7315C253.495 31.6108 253.395 32.9356 252.516 33.6907L243.458 41.469C242.579 42.224 241.254 42.1234 240.499 41.2441V41.2441Z"\n    fill="black"></path>\n  <path fill-rule="evenodd" clip-rule="evenodd"\n    d="M250.743 31.6265L241.685 39.4048C241.424 39.6287 241.395 40.0217 241.619 40.2825C241.842 40.5433 242.235 40.5731 242.496 40.3492L251.554 32.5709C251.815 32.3469 251.845 31.954 251.621 31.6932C251.397 31.4324 251.004 31.4025 250.743 31.6265ZM240.724 38.285C239.844 39.04 239.744 40.3649 240.499 41.2441C241.254 42.1234 242.579 42.224 243.458 41.469L252.516 33.6907C253.395 32.9356 253.495 31.6108 252.74 30.7315C251.985 29.8523 250.66 29.7516 249.781 30.5067L240.724 38.285Z"\n    fill="black"></path>\n  <path\n    d="M205.779 71.4647C205.005 70.5642 205.108 69.2073 206.009 68.4339L214.989 60.7218C215.89 59.9485 217.247 60.0516 218.02 60.9521V60.9521C218.793 61.8526 218.69 63.2095 217.79 63.9829L208.809 71.695C207.909 72.4683 206.552 72.3652 205.779 71.4647V71.4647Z"\n    fill="black"></path>\n  <path fill-rule="evenodd" clip-rule="evenodd"\n    d="M215.951 61.8416L206.97 69.5537C206.688 69.796 206.656 70.221 206.898 70.5031C207.141 70.7851 207.566 70.8174 207.848 70.5752L216.828 62.863C217.11 62.6208 217.143 62.1958 216.9 61.9137C216.658 61.6317 216.233 61.5994 215.951 61.8416ZM206.009 68.4339C205.108 69.2073 205.005 70.5642 205.779 71.4647C206.552 72.3652 207.909 72.4683 208.809 71.695L217.79 63.9829C218.69 63.2095 218.793 61.8526 218.02 60.9521C217.247 60.0516 215.89 59.9485 214.989 60.7218L206.009 68.4339Z"\n    fill="black"></path>\n  <circle cx="141.356" cy="19.525" r="10.1855" fill="#FE89B4"></circle>\n  <ellipse cx="139.062" cy="14.7094" rx="2.42519" ry="1.94015" transform="rotate(-34.544 139.062 14.7094)"\n    fill="#FDF7FF"></ellipse>\n  <circle cx="252.489" cy="79.7577" r="7.78893" fill="#EC5236"></circle>\n  <ellipse cx="250.434" cy="76.3701" rx="2.61272" ry="2.09018" transform="rotate(-34.544 250.434 76.3701)"\n    fill="#EDB69D"></ellipse>\n  <path fill-rule="evenodd" clip-rule="evenodd"\n    d="M100.436 79.9254C100.461 79.6567 100.732 79.3897 101.042 79.329L106.657 78.2299C107.587 78.0478 108.281 78.5536 108.207 79.3596L107.759 84.2243C107.734 84.493 107.463 84.76 107.153 84.8207L100.416 86.1396C100.106 86.2003 99.8742 86.0317 99.899 85.7631L100.436 79.9254Z"\n    fill="#B3AAAA"></path>\n  <path fill-rule="evenodd" clip-rule="evenodd"\n    d="M95.8553 81.7775C95.9294 80.9715 96.7437 80.1704 97.6739 79.9883L98.7968 79.7685C99.1069 79.7078 99.3382 79.8764 99.3135 80.1451L99.1344 82.091C99.1096 82.3597 98.8382 82.6267 98.5282 82.6874L96.2824 83.127C95.9723 83.1877 95.741 83.0191 95.7657 82.7505L95.8553 81.7775Z"\n    fill="#B3AAAA"></path>\n  <path fill-rule="evenodd" clip-rule="evenodd"\n    d="M95.5865 84.6965C95.6112 84.4278 95.8826 84.1608 96.1927 84.1001L98.4385 83.6605C98.7486 83.5998 98.9799 83.7684 98.9552 84.037L98.7761 85.9829C98.7513 86.2516 98.4799 86.5186 98.1699 86.5793L95.9241 87.019C95.614 87.0797 95.3827 86.9111 95.4074 86.6424L95.5865 84.6965Z"\n    fill="#B3AAAA"></path>\n  <path fill-rule="evenodd" clip-rule="evenodd"\n    d="M95.2282 88.5884C95.2529 88.3197 95.5244 88.0527 95.8344 87.992L98.0802 87.5524C98.3903 87.4917 98.6216 87.6603 98.5969 87.929L98.4178 89.8749C98.3931 90.1435 98.1216 90.4105 97.8116 90.4712L96.6887 90.6911C95.7584 90.8732 95.0645 90.3674 95.1387 89.5614L95.2282 88.5884Z"\n    fill="#B3AAAA"></path>\n  <path fill-rule="evenodd" clip-rule="evenodd"\n    d="M99.7197 87.709C99.7444 87.4403 100.016 87.1733 100.326 87.1126L102.572 86.673C102.882 86.6123 103.113 86.7809 103.088 87.0496L102.909 88.9955C102.885 89.2641 102.613 89.5312 102.303 89.5919L100.057 90.0315C99.7472 90.0922 99.5159 89.9236 99.5406 89.6549L99.7197 87.709Z"\n    fill="#B3AAAA"></path>\n  <path fill-rule="evenodd" clip-rule="evenodd"\n    d="M104.211 86.8298C104.236 86.5611 104.507 86.2941 104.817 86.2334L107.063 85.7938C107.373 85.7331 107.605 85.9017 107.58 86.1704L107.49 87.1433C107.416 87.9493 106.602 88.7504 105.672 88.9325L104.549 89.1523C104.239 89.213 104.007 89.0444 104.032 88.7757L104.211 86.8298Z"\n    fill="#B3AAAA"></path>\n  <defs>\n    <linearGradient id="paint0_linear_3_672" x1="-44.5195" y1="122.42" x2="263.357" y2="-8.65023"\n      gradientUnits="userSpaceOnUse">\n      <stop offset="0.110697" stop-color="#232323"></stop>\n      <stop offset="1" stop-color="#3D3D3D"></stop>\n    </linearGradient>\n  </defs>\n </svg>';function renderConnectHardwareWallet(n){var t,r;if(au){au.derivationPath=tu;document.querySelector(".modal-right").innerHTML=`\n    <div class="nws-modal-body">\n      <div class="nws-modal-header-wrapper">\n        <div class="nws-modal-header">\n          <h3 class="middleTitle">\n            ${e("modal.ledger.connectWithLedger")}\n          </h3>\n          <button class="close-button">\n          ${Fs}\n          </button>\n        </div>\n      </div>\n      <div class="derivation-path-wrapper">\n        <div class="enter-derivation-path">\n          <div class="ledger-image">\n            ${Vs}\n          </div>\n          <div class="ledger-description">\n            <p> ${e("modal.ledger.makeSureYourLedger")} </p>\n            <p class="specify-path" id="specify-derivation-path-button">${e("modal.ledger.specifyHDPath")}</p>\n          </div>\n          <div class="action-buttons"><button class="middleButton" id="continue-button">${e("modal.ledger.continue")}</button></div>\n        </div>\n      </div>\n    </div>\n  `;(t=document.getElementById("continue-button"))===null||t===void 0?void 0:t.addEventListener("click",(()=>{connectToWallet(n,false)}));(r=document.getElementById("specify-derivation-path-button"))===null||r===void 0?void 0:r.addEventListener("click",(()=>{renderSpecifyDerivationPath(n)}))}}const Gs='\n<svg\n  width="18"\n  height="16"\n  viewBox="0 0 18 16"\n  fill="none"\n  xmlns="http://www.w3.org/2000/svg"\n>\n  <path\n    d="M7.22224 1.33334H1.44446V6.66668H7.22224V1.33334Z"\n    stroke="currentColor"\n    stroke-linecap="round"\n    stroke-linejoin="round"\n  />\n  <path\n    d="M15.8889 1.33334H10.1111V6.66668H15.8889V1.33334Z"\n    stroke="currentColor"\n    stroke-linecap="round"\n    stroke-linejoin="round"\n  />\n  <path\n    d="M7.22224 9.33334H1.44446V14.6667H7.22224V9.33334Z"\n    stroke="currentColor"\n    stroke-linecap="round"\n    stroke-linejoin="round"\n  />\n  <path\n    d="M10.1111 13.1429V14.6667H15.8889M10.1111 9.33334V10.8572H12.5873V9.33334H15.8889V12.381"\n    stroke="#4C5155"\n    stroke-linecap="round"\n    stroke-linejoin="round"\n  />\n  <rect\n    x="3.61108"\n    y="3.33334"\n    width="1.44444"\n    height="1.33333"\n    fill="#4C5155"\n  />\n  <rect\n    x="3.61108"\n    y="11.3333"\n    width="1.44444"\n    height="1.33333"\n    fill="#4C5155"\n  />\n  <rect\n    x="12.2778"\n    y="3.33334"\n    width="1.44445"\n    height="1.33333"\n    fill="#4C5155"\n  />\n</svg>';const Ys='\n<svg\n  width="18"\n  height="16"\n  viewBox="0 0 18 16"\n  fill="none"\n  xmlns="http://www.w3.org/2000/svg"\n>\n  <path\n    d="M13 8.66667V12.6667C13 13.0203 12.8478 13.3594 12.577 13.6095C12.3061 13.8595 11.9387 14 11.5556 14H3.61113C3.22804 14 2.86064 13.8595 2.58975 13.6095C2.31887 13.3594 2.16669 13.0203 2.16669 12.6667V5.33333C2.16669 4.97971 2.31887 4.64057 2.58975 4.39052C2.86064 4.14048 3.22804 4 3.61113 4H7.94447"\n    stroke="currentColor"\n    stroke-linecap="round"\n    stroke-linejoin="round"\n  />\n  <path\n    d="M10.8333 2H15.1666V6"\n    stroke="currentColor"\n    stroke-linecap="round"\n    stroke-linejoin="round"\n  />\n  <path\n    d="M7.22223 9.33333L15.1667 2"\n    stroke="currentColor"\n    stroke-linecap="round"\n    stroke-linejoin="round"\n  />\n</svg>';function getWalletUrl(e){if(!au)return;let n="";e.type==="injected"&&(n=e.metadata.downloadUrl);e.type==="browser"&&(n=e.metadata.walletUrl);return n}function renderGetAWallet(){var n,t;return __awaiter(this,void 0,void 0,(function*(){if(!au)return;document.querySelector(".modal-right").innerHTML=`\n    <div class="nws-modal-body">\n      <div class="wallet-home-wrapper">\n        <div class="nws-modal-header-wrapper">\n        <button class="back-button" id="back-button">\n          ${Ds}\n        </button>\n          <div class="nws-modal-header">\n            <h3 class="middleTitle -open">${e("modal.wallet.getAWallet")}</h3>\n            <button class="close-button">\n              ${Fs}\n            </button>\n          </div>\n        </div>\n        <div class="get-wallet-wrapper" id="wallets">\n\n        </div>\n      </div>\n    </div>\n  `;const filterByType=e=>e.type!=="bridge"&&e.type!=="hardware"&&e.type!=="instant-link";const r=au.modules.filter(filterByType);for(let t=0;t<r.length;t++){const a=["nearfi","here-wallet"].includes(r[t].id);const o=r[t].id==="here-wallet"?"mobile":"";const i=getWalletUrl(r[t]);(n=document.getElementById("wallets"))===null||n===void 0?void 0:n.insertAdjacentHTML("beforeend",`\n    <div tabindex="0" class="single-wallet-get ${r[t].id}" id="${r[t].id}">\n      <div class="small-icon">\n      ${a&&i?`${Gs}`:!a&&i?`${Ys}`:""}\n\n      </div>\n      <div class="icon">\n      <img\n          src="${r[t].metadata.iconUrl}"\n          alt="${r[t].metadata.name}"></div>\n      <div class="content">\n        <div class="title">${r[t].metadata.name}</div>\n        <div class="type">${e(`modal.walletTypes.${o||r[t].type}`)}</div>\n      </div>\n    </div>\n`)}Array.from(document.querySelectorAll(".single-wallet-get")).forEach((e=>{e.addEventListener("click",(()=>{if(!au)return;const n=au.modules.find((n=>n.id===e.id));if(!n)return;const t=getWalletUrl(n);t&&window.open(t,"_blank")}))}));(t=document.getElementById("back-button"))===null||t===void 0?void 0:t.addEventListener("click",(()=>{renderWhatIsAWallet()}))}))}const zs='\n<svg width="40" height="40" viewBox="0 0 40 40" fill="none" xmlns="http://www.w3.org/2000/svg">\n  <path d="M33.5 1.83325L30.1666 5.16658M17.4818 17.8514C19.1406 19.5103 20.1666 21.8019 20.1666 24.3333C20.1666 29.3959 16.0626 33.4999 11 33.4999C5.93735 33.4999 1.8333 29.3959 1.8333 24.3333C1.8333 19.2706 5.93735 15.1666 11 15.1666C13.5313 15.1666 15.8229 16.1926 17.4818 17.8514ZM17.4818 17.8514L24.3333 10.9999M24.3333 10.9999L29.3333 15.9999L35.1666 10.1666L30.1666 5.16658M24.3333 10.9999L30.1666 5.16658" stroke="currentColor" stroke-width="3" stroke-linecap="round" stroke-linejoin="round"/>\n</svg>';const Ks='\n<svg width="40" height="41" viewBox="0 0 40 41" fill="none" xmlns="http://www.w3.org/2000/svg">\n  <circle cx="28.3333" cy="23.8333" r="1.66667" fill="currentColor"/>\n  <path d="M35 12.1667H7C5.89543 12.1667 5 11.2712 5 10.1667V7.5C5 6.39543 5.89543 5.5 7 5.5H31.6667" stroke="currentColor" stroke-width="3" stroke-linecap="round" stroke-linejoin="round"/>\n  <path d="M35 12.1667V35.5H7C5.89543 35.5 5 34.6046 5 33.5V8.83334" stroke="currentColor" stroke-width="3" stroke-linecap="round" stroke-linejoin="round"/>\n</svg>';function renderWhatIsAWallet(){var n,t;return __awaiter(this,void 0,void 0,(function*(){document.querySelector(".modal-right").innerHTML=`\n    <div class="nws-modal-body">\n      <div class="wallet-home-wrapper">\n        <div class="nws-modal-header-wrapper">\n          <div class="nws-modal-header">\n            <h3 class="middleTitle">${e("modal.wallet.whatIsAWallet")}</h3>\n            <button class="close-button">\n              ${Fs}\n            </button>\n          </div>\n        </div>\n\n        <div class="wallet-info-wrapper  what-wallet-hide">\n          <div class="wallet-what">\n            <div class="icon-side">\n                ${zs}\n            </div>\n            <div class="content-side">\n              <h3>${e("modal.wallet.secureAndManage")}</h3>\n              <p>${e("modal.wallet.safelyStore")}</p>\n            </div>\n          </div>\n\n          <div class="wallet-what">\n            <div class="icon-side">\n              ${Ks}\n            </div>\n            <div class="content-side">\n              <h3>${e("modal.wallet.logInToAny")}</h3>\n              <p>${e("modal.wallet.noNeedToCreate")}</p>\n            </div>\n          </div>\n\n            <div class="button-spacing"></div>\n              <button class="middleButton" id="get-a-wallet-button">\n                ${e("modal.wallet.getAWallet")}\n              </button>\n        </div>\n\n        <div class="what-wallet-mobile">\n          <p>\n            ${e("modal.wallet.useAWallet")}\n          </p>\n          <button class="middleButton" id="get-a-wallet-button-mobile">\n            ${e("modal.wallet.getAWallet")}\n          </button>\n        </div>\n\n        <div class="lang-selector-wrapper">\n          <select class="lang-selector" name="lang">\n            <option value="en">English</option>\n            <option value="es">Spanish</option>\n          </select>\n        </div>\n\n      </div>\n    </div>\n  `;(n=document.getElementById("get-a-wallet-button"))===null||n===void 0?void 0:n.addEventListener("click",(()=>{renderGetAWallet()}));(t=document.getElementById("get-a-wallet-button-mobile"))===null||t===void 0?void 0:t.addEventListener("click",(()=>{renderGetAWallet()}))}))}function renderWalletNotInstalled(n){var t,r,a;if(au){document.querySelector(".modal-right").innerHTML=`\n    <div class="nws-modal-body">\n      <div class="nws-modal-header-wrapper"><button class="back-button" id="back-button">${Ds}</button>\n        <div class="nws-modal-header">\n          <h3 class="middleTitle"></h3><button class="close-button">${Fs}</button>\n        </div>\n      </div>\n      <div class="wallet-not-installed-wrapper">\n        <div class="wallet-data">\n          <div class="wallet-icon-box"><img\n              src="${n.metadata.iconUrl}" alt="${n.metadata.name}">\n          </div>\n          <p>\n            ${n.metadata.name}\n          </p>\n        </div>\n        <p>\n          ${e("modal.install.youllNeedToInstall")} ${n.metadata.name}\n          ${e("modal.install.toContinueAfterInstalling")}\n          <span class="refresh-link" id="refresh-page-lint">&nbsp;\n            ${e("modal.install.refreshThePage")}\n          </span>\n        </p>\n        <div class="action-buttons">\n          <button class="middleButton" id="download-button">\n            ${e("modal.install.open")} ${n.metadata.name}\n          </button>\n        </div>\n      </div>\n    </div>\n  `;(t=document.getElementById("back-button"))===null||t===void 0?void 0:t.addEventListener("click",(()=>{renderWhatIsAWallet()}));(r=document.getElementById("refresh-page-lint"))===null||r===void 0?void 0:r.addEventListener("click",(()=>{window.location.reload()}));(a=document.getElementById("download-button"))===null||a===void 0?void 0:a.addEventListener("click",(()=>{n.type==="injected"&&window.open(n.metadata.downloadUrl,"_blank")}))}}const Qs='\n<svg\n  width="21"\n  height="20"\n  viewBox="0 0 21 20"\n  fill="none"\n  xmlns="http://www.w3.org/2000/svg"\n>\n  <path\n    d="M18.8333 9.2333V9.99997C18.8323 11.797 18.2504 13.5455 17.1744 14.9848C16.0984 16.4241 14.586 17.477 12.8628 17.9866C11.1395 18.4961 9.29768 18.4349 7.61202 17.8121C5.92636 17.1894 4.48717 16.0384 3.50909 14.5309C2.53101 13.0233 2.06645 11.24 2.18469 9.4469C2.30293 7.65377 2.99763 5.94691 4.16519 4.58086C5.33275 3.21482 6.91061 2.26279 8.66345 1.86676C10.4163 1.47073 12.2502 1.65192 13.8916 2.3833"\n    stroke="#4FD98F"\n    stroke-width="2"\n    stroke-linecap="round"\n    stroke-linejoin="round"\n  />\n  <path\n    d="M18.8333 3.33337L10.5 11.675L8 9.17504"\n    stroke="#4FD98F"\n    stroke-width="2"\n    stroke-linecap="round"\n    stroke-linejoin="round"\n  />\n</svg>';function renderWalletAccount(n=null){return __awaiter(this,void 0,void 0,(function*(){document.querySelector(".modal-right").innerHTML=`\n    <div class="nws-modal-body">\n    <div class="nws-modal-header">\n        <h3 class="middleTitle"></h3>\n        <button class="close-button">\n          ${Fs}\n        </button>\n      </div>\n      <div class="connecting-wrapper">\n        <div class="content">\n          <div class="icon">\n            <div class="green-dot"></div>\n            <img src="${n===null||n===void 0?void 0:n.metadata.iconUrl}" alt="${n===null||n===void 0?void 0:n.metadata.name}">\n          </div>\n          <h3 class="connecting-name">${n===null||n===void 0?void 0:n.metadata.name}</h3>\n          <div class="wallet-connected-success">\n             ${Qs}\n            <span>\n              ${e("modal.wallet.connectionSuccessful")}\n            </span>\n          </div>\n        </div>\n      </div>\n    </div>\n  `}))}const Js='\n<svg\n  width="24"\n  height="24"\n  viewBox="0 0 24 24"\n  fill="none"\n  xmlns="http://www.w3.org/2000/svg"\n>\n  <path\n    d="M6.5 15.25a1.75 1.75 0 0 1-1.75-1.75V6.75a2 2 0 0 1 2-2h6.75c.966 0 1.75.784 1.75 1.75"\n    stroke="#4F7CD1"\n    stroke-width="1.5"\n    stroke-linecap="round"\n    stroke-linejoin="round"\n  ></path>\n  <path\n    d="M8.75 10.75a2 2 0 0 1 2-2h6.5a2 2 0 0 1 2 2v6.5a2 2 0 0 1-2 2h-6.5a2 2 0 0 1-2-2v-6.5Z"\n    stroke="#4F7CD1"\n    stroke-width="1.5"\n    stroke-linecap="round"\n    stroke-linejoin="round"\n  ></path>\n</svg>';function renderScanQRCode(n,t){var o,i,l;return __awaiter(this,void 0,void 0,(function*(){function formatQRCodeImage(e){return __awaiter(this,void 0,void 0,(function*(){const n=yield a.toString(e,{margin:0,type:"svg"});return n}))}const v=yield formatQRCodeImage(t.uri);document.querySelector(".modal-right").innerHTML=`\n      <div class="nws-modal-body">\n        <section class="scan-qr-code">\n          <div class="nws-modal-header">\n            <h3 class="middleTitle">${e("modal.qr.scanWithYourMobile")}</h3>\n            <button class="close-button">\n                ${Fs}\n            </button>\n          </div>\n          <section class="qr-code">\n            <div>\n                ${v}\n            </div>\n            <div class="notification" id="uri-copy-notification"></div>\n            <div class="copy-btn" id="copy-uri-to-clipboard">\n                ${Js}\n                ${e("modal.qr.copyToClipboard")}\n              </div>\n        </section>\n        <footer class="footer">\n          <p>${e("modal.qr.preferTheOfficial")} ${n.metadata.name}?</p>\n          <button class="btn" id="default-modal-trigger">${e("modal.qr.open")}</button>\n        </footer>\n      </section>\n    </div>\n`;(o=document.getElementById("continue-button"))===null||o===void 0?void 0:o.addEventListener("click",(()=>{connectToWallet(n,false)}));const d=document.getElementById("copy-uri-to-clipboard");const c=document.getElementById("uri-copy-notification");const showURICopyNotification=e=>{if(c&&d){c.innerHTML=e;c.style.display="block";d.style.display="none"}};const hideNotification=()=>{if(c&&d){d.style.display="flex";c.style.display="none"}};(i=document.getElementById("copy-uri-to-clipboard"))===null||i===void 0?void 0:i.addEventListener("click",(()=>{if(!t.uri)return;const n=r(t.uri);if(n){showURICopyNotification(e("modal.qr.copiedToClipboard"));setTimeout((()=>hideNotification()),1200)}else{showURICopyNotification(e("modal.qr.failedToCopy"));setTimeout((()=>hideNotification()),1200)}}));(l=document.getElementById("default-modal-trigger"))===null||l===void 0?void 0:l.addEventListener("click",(()=>{t.handleOpenDefaultModal()}))}))}const Xs='\n<svg width="18" height="18" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">\n  <path d="M4.95215 16.3536L10.2152 5.85657C10.9531 4.38481 13.0538 4.38519 13.7912 5.85723L19.0494 16.3543C19.7156 17.6841 18.7486 19.25 17.2612 19.25H6.74001C5.25228 19.25 4.28535 17.6835 4.95215 16.3536Z" stroke="#E6B73E" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round"></path>\n  <path d="M12 10V12" stroke="#E6B73E" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"></path>\n  <path d="M12.5 16C12.5 16.2761 12.2761 16.5 12 16.5C11.7239 16.5 11.5 16.2761 11.5 16C11.5 15.7239 11.7239 15.5 12 15.5C12.2761 15.5 12.5 15.7239 12.5 16Z" stroke="#E6B73E"></path>\n </svg>';let eu=true;const getAccountIds=e=>__awaiter(void 0,void 0,void 0,(function*(){if(!au)return[];const n=yield fetch(`${au.selector.options.network.indexerUrl}/publicKey/ed25519:${e}/accounts`);if(!n.ok)throw new Error("Failed to get account id from public key");const t=yield n.json();return Array.isArray(t)&&t.length?t:[]}));const resolveAccounts=e=>__awaiter(void 0,void 0,void 0,(function*(){if(!au)return[];const n=yield e.getPublicKey(au.derivationPath);try{const e=yield getAccountIds(n);return e.map(((e,t)=>({derivationPath:au.derivationPath,publicKey:n,accountId:e,selected:t===0})))}catch(e){return null}}));function connectToWallet(e,n=false){return __awaiter(this,void 0,void 0,(function*(){if(!au)return;const{selectedWalletId:t}=au.selector.store.getState();if(t!==e.id)try{if(e.type==="injected"&&!e.metadata.available)return renderWalletNotInstalled(e);if(e.metadata.deprecated)return renderWalletConnectionFailed(e,new Error("Wallet is deprecated"));const t=yield e.wallet();yield renderWalletConnecting(e);if(t.type==="hardware"){const n=yield resolveAccounts(t);return!n||n.length<1?renderNoLedgerAccountsFound(e):n.length===1?renderLedgerAccountsOverviewList(e,n,n):renderLedgerSelectAccount(e,n)}if(t.type==="bridge"){const r=au.selector.on("uriChanged",(({uri:n})=>{renderScanQRCode(e,{uri:n,handleOpenDefaultModal:()=>{connectToWallet(e,true)}})}));yield t.signIn({contractId:au.options.contractId,methodNames:au.options.methodNames,qrCodeModal:n});r.remove();au.container.children[0].classList.remove("open");au.emitter.emit("onHide",{hideReason:"wallet-navigation"});return}if(t.type==="browser"){yield t.signIn({contractId:au.options.contractId,methodNames:au.options.methodNames,successUrl:t.metadata.successUrl,failureUrl:t.metadata.failureUrl});au.container.children[0].classList.remove("open");au.emitter.emit("onHide",{hideReason:"wallet-navigation"});return}yield t.signIn({contractId:au.options.contractId,methodNames:au.options.methodNames});au.container.children[0].classList.remove("open");au.emitter.emit("onHide",{hideReason:"wallet-navigation"})}catch(n){const{name:t}=e.metadata;const r=n&&typeof n==="object"&&"message"in n?n.message:"Something went wrong";yield renderWalletConnectionFailed(e,new Error(`Failed to sign in with ${t}: ${r}`))}else renderWalletAccount(e)}))}function renderOptionsList(e,n){var t,r;if(au)for(let a=0;a<n.length;a++){const o=n[a];if(n[a].type==="instant-link"&&au.selector.store.getState().selectedWalletId!==o.id)continue;const{name:i,description:l,iconUrl:v}=o.metadata;(t=document.querySelector(e))===null||t===void 0?void 0:t.insertAdjacentHTML("beforeend",`\n        <div tabindex="0" class="single-wallet ${o.id===au.selector.store.getState().selectedWalletId?"selected-wallet connected-wallet":""} sidebar ${o.metadata.deprecated?"deprecated-wallet":""} ${o.id}" id="module-${o.id}">\n          <div class="icon"><img src="${v}" alt="${i}"></div>\n          <div class="content">\n            <div class="title">${i}</div>\n            <div class="description">${l}</div>\n          </div>\n          ${o.metadata.deprecated?`\n              <div class="warning-triangle">\n                ${Xs}\n              </div>\n                `:""}\n        </div>\n      `);(r=document.getElementById("module-"+o.id))===null||r===void 0?void 0:r.addEventListener("click",(()=>{var e;document.querySelectorAll(".selected-wallet").forEach((e=>{e.classList.remove("selected-wallet")}));(e=document.getElementById("module-"+o.id))===null||e===void 0?void 0:e.classList.add("selected-wallet");if(o.type==="hardware")return renderConnectHardwareWallet(o);connectToWallet(o,false)}))}}function renderModal(){var n,t,r,a;if(!au)return;au.container.innerHTML=`\n    <div class="nws-modal-wrapper ${au.options.theme==="dark"?"dark-theme":""}">\n      <div class="nws-modal-overlay"></div>\n      <div class="nws-modal">\n        <div class="modal-left">\n          <div class="modal-left-title">\n            <h2>${e("modal.wallet.connectYourWallet")}</h2>\n          </div>\n          <div class="nws-modal-body">\n            <div class="wallet-options-wrapper"></div>\n          </div>\n        </div>\n        <div class="modal-right"></div>\n      </div>\n    </div>\n  `;const o=[];const i=[];au.modules.forEach((e=>{(au===null||au===void 0?void 0:au.selector.store.getState().recentlySignedInWallets.includes(e.id))?i.push(e):o.push(e)}));if(au.selector.options.optimizeWalletOrder&&i.length>0){(n=document.querySelector(".wallet-options-wrapper"))===null||n===void 0?void 0:n.insertAdjacentHTML("beforeend",'\n      <div class="options-list-section">\n        <div class="options-list-section-header">Recent</div>\n        <div class="options-list recent-options-list-content"></div>\n      </div>\n      ');(t=document.querySelector(".wallet-options-wrapper"))===null||t===void 0?void 0:t.insertAdjacentHTML("beforeend",'\n      <div class="options-list-section">\n        <div class="options-list-section-header">More</div>\n        <div class="options-list more-options-list-content"></div>\n      </div>\n      ');renderOptionsList(".recent-options-list-content",i);au.selector.options.randomizeWalletOrder?renderOptionsList(".more-options-list-content",o.sort((()=>Math.random()-.5))):renderOptionsList(".more-options-list-content",o)}else{(r=document.querySelector(".wallet-options-wrapper"))===null||r===void 0?void 0:r.insertAdjacentHTML("beforeend",'<div class="options-list"></div>');renderOptionsList(".options-list",au.modules)}(a=document.querySelector(".nws-modal-overlay"))===null||a===void 0?void 0:a.addEventListener("click",(()=>{if(au){au.container.children[0].classList.remove("open");au.emitter.emit("onHide",{hideReason:"user-triggered"})}}));if(eu){document.addEventListener("click",(e=>{if(!au)return;const n=e.target;if(n&&n.className==="close-button"){au.container.children[0].classList.remove("open");au.emitter.emit("onHide",{hideReason:"user-triggered"})}}));eu=false}}const nu="near-wallet-selector-modal";const tu="44'/397'/0'/0'/1'";let ru=null;let au=null;if(typeof window!=="undefined"){const e=document.createElement("div");e.id=nu;document.body.appendChild(e)}
/**
 * Initiates a modal instance
 * @param {WalletSelector} selector Selector
 * @param {ModalOptions} options Modal options
 * @returns {WalletSelectorModal} Returns a WalletSelectorModal object
 */const setupModal=(e,r)=>{const a=new n;e.store.getState().modules.forEach((e=>__awaiter(void 0,void 0,void 0,(function*(){if("topLevelInjected"in e.metadata){if(!e.metadata.topLevelInjected)return;const n=yield e.wallet();if(n.type!=="injected")return;yield n.signIn({contractId:r.contractId,methodNames:r.methodNames})}}))));au={container:document.getElementById(nu),selector:e,options:r,route:{name:"WalletOptions"},modules:[],derivationPath:tu,emitter:a};au.selector.store.observable.subscribe((n=>{if(au){if(e.options.optimizeWalletOrder){n.modules.sort(((e,n)=>e.metadata.deprecated===n.metadata.deprecated?0:e.metadata.deprecated?1:-1));n.modules.sort(((e,n)=>n.metadata.available===e.metadata.available?0:n.metadata.available?1:-1))}au.modules=n.modules}}));const close=e=>{if(e.key==="Escape"){if(!au)return;au.container.children[0].classList.remove("open");au.emitter.emit("onHide",{hideReason:"user-triggered"})}};window.addEventListener("keydown",close);renderModal();ru||(ru={show:()=>{if(!au)return;t(au.selector.options.languageCode);renderModal();const e=au.selector.store.getState().selectedWalletId;if(e){const n=au.modules.find((n=>n.id===e));renderWalletAccount(n)}else renderWhatIsAWallet();au.container.children[0].classList.add("open")},hide:()=>{au&&au.container.children[0].classList.remove("open")},on:(e,n)=>au.emitter.on(e,n),off:(e,n)=>{au.emitter.off(e,n)}});return ru};export{setupModal};
//# sourceMappingURL=index.js.map